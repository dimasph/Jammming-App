/*! For license information please see 146.4b922eb44fbd9376db4b.chunk.js.LICENSE.txt */
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[146],{"+1VY":function(e,t,n){"use strict";var r=n("ep+1"),i=n("jjJg"),o=(n("gRFL"),n("SVgp"),function identifierWithPointTracking(e,t,n){for(var r=0,o=0;r=o,o=Object(i.h)(),38===r&&12===o&&(t[n]=1),!Object(i.o)(o);)Object(i.g)();return Object(i.m)(e,i.i)}),a=function getRules(e,t){return Object(i.c)(function toRules(e,t){var n=-1,r=44;do{switch(Object(i.o)(r)){case 0:38===r&&12===Object(i.h)()&&(t[n]=1),e[n]+=o(i.i-1,t,n);break;case 2:e[n]+=Object(i.d)(r);break;case 4:if(44===r){e[++n]=58===Object(i.h)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Object(i.e)(r)}}while(r=Object(i.g)());return e}(Object(i.a)(e),t))},s=new WeakMap,u=function compat(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||s.get(n))&&!r){s.set(e,!0);for(var i=[],o=a(t,i),u=n.props,c=0,l=0;c<o.length;c++)for(var d=0;d<u.length;d++,l++)e.props[l]=i[c]?o[c].replace(/&\f/g,u[d]):u[d]+" "+o[c]}}},c=function removeLabel(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},l=[i.j];t.a=function createCache(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o=e.stylisPlugins||l;var a,s,d={},f=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)d[t[n]]=!0;f.push(e)}));var p=[u,c];var h,v=[i.n,Object(i.k)((function(e){h.insert(e)}))],g=Object(i.f)(p.concat(o,v));s=function insert(e,t,n,r){h=n,function stylis(e){Object(i.l)(Object(i.b)(e),g)}(e?e+"{"+t.styles+"}":t.styles),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new r.a({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:d,registered:{},insert:s};return m.sheet.hydrate(f),m}},AeFk:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return css})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));var r=n("q1tI"),i=(n("+1VY"),n("ek6p")),o=(n("pVnL"),n("gRFL"),n("2mql"),n("eVQB")),a=n("Exhd"),s=n("ep+1"),u=function jsx(e,t){var n=arguments;if(null==t||!i.f.call(t,"css"))return r.createElement.apply(void 0,n);var o=n.length,a=new Array(o);a[0]=i.b,a[1]=Object(i.e)(e,t);for(var s=2;s<o;s++)a[s]=n[s];return r.createElement.apply(null,a)},c=Object(i.h)((function(e,t){var n=e.styles,u=Object(a.a)([n],void 0,Object(r.useContext)(i.c)),c=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=t.key+"-global",n=new s.a({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+u.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,r],function(){n.flush()}}),[t]),Object(r.useLayoutEffect)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==u.next&&Object(o.b)(t,u.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",u,n,!1)}}),[t,u.name]),null}));function css(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)(t)}var l=function keyframes(){var e=css.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function toString(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},d=function classnames(e){for(var t=e.length,n=0,r="";n<t;n++){var i=e[n];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=classnames(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(r&&(r+=" "),r+=o)}}return r};function merge(e,t,n){var r=[],i=Object(o.a)(e,r,n);return r.length<2?n:i+t(r)}var f=function Noop(){return null},p=Object(i.h)((function(e,t){var n=function css(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object(a.a)(n,t.registered);return Object(o.b)(t,i,!1),t.key+"-"+i.name},s={css:n,cx:function cx(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return merge(t.registered,n,d(r))},theme:Object(r.useContext)(i.c)},u=e.children(s);var c=Object(r.createElement)(f,null);return Object(r.createElement)(r.Fragment,null,c,u)}))},CTjV:function(e,t,n){"use strict";var r=n("SVgp"),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(r.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},DUL6:function(e,t,n){"use strict";n.d(t,"a",(function(){return lt}));var __assign=function(){return(__assign=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)},i="?";function computeStackTrace(e){var t=[],n=tryToGetString(e,"stack");return n&&n.split("\n").forEach((function(e){var n=function parseChromeLine(e){var t=o.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),s=a.exec(t[2]);r&&s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||i,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function parseWinLine(e){var t=s.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||i,line:+t[3],url:t[2]}}(e)||function parseGeckoLine(e){var t=u.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=c.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||i,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=i),t.push(n))})),{message:tryToGetString(e,"message"),name:tryToGetString(e,"name"),stack:t}}var o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/;var s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function tryToGetString(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var l,d,f=1e3,p=6e4;function throttle(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?e.apply(void 0,n):r=n,s=!0,i=setTimeout((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){clearTimeout(i),s=!1,r=void 0}}}function utils_assign(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function generateUUID(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,generateUUID)}function performDraw(e){return 0!==e&&100*Math.random()<=e}function round(e,t){return+e.toFixed(t)}function noop(){}function jsonStringify(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];hasToJSON(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,a=[!1,void 0];"object"==typeof e&&hasToJSON(i=Object.getPrototypeOf(e))&&(a=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,t,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(i.toJSON=a[1])}return o}function hasToJSON(e){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,"toJSON")}function includes(e,t){return-1!==e.indexOf(t)}function find(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function isPercentage(e){return isNumber(e)&&e>=0&&e<=100}function isNumber(e){return"number"==typeof e}function objectValues(e){return Object.keys(e).map((function(t){return e[t]}))}function objectHasValue(e,t){return Object.keys(e).some((function(n){return e[n]===t}))}function objectEntries(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function isEmptyObject(e){return 0===Object.keys(e).length}function getLinkElementOrigin(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}function findCommaSeparatedValue(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}function addEventListener(e,t,n,r){return addEventListeners(e,[t],n,r)}function addEventListeners(e,t,n,r){var i=void 0===r?{}:r,o=i.once,a=i.capture,s=i.passive,u=monitor(o?function(e){stop(),n(e)}:n),c=s?{capture:a,passive:s}:a;t.forEach((function(t){return e.addEventListener(t,u,c)}));var stop=function(){return t.forEach((function(t){return e.removeEventListener(t,u,c)}))};return{stop:stop}}function runOnReadyState(e,t){document.readyState===e||"complete"===document.readyState?t():addEventListener(window,"complete"===e?"load":"DOMContentLoaded",t,{once:!0})}function getType(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function mergeInto(e,t,n){if(void 0===n&&(n=function createCircularReferenceChecker(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=mergeInto(i[o],t[o],n);return i}var a="object"===getType(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=mergeInto(a[s],t[s],n));return a}}function deepClone(e){return mergeInto(void 0,e)}function combine(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=mergeInto(e,o))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(l||(l={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(d||(d={}));var h,v,g="agent",m="console",y="custom",b="source";function formatUnknownError(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:toStackTraceString(e),handlingStack:r,type:e.name}:{message:n+" "+jsonStringify(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}function toStackTraceString(e){var t=formatErrorMessage(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function formatErrorMessage(e){return(e.name||"Error")+": "+e.message}function createHandlingStack(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return callMonitored((function(){var n=computeStackTrace(t);n.stack=n.stack.slice(2),e=toStackTraceString(n)})),e}function getEventBridge(){var e=function getEventBridgeGlobal(){return function isExperimentalFeatureEnabled(e){return!!v&&v.has(e)}("event-bridge")?window.DatadogEventBridge:null}();if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function canUseEventBridge(){var e=getEventBridge();return!!e&&includes(e.getAllowedWebViewHosts(),window.location.hostname)}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(h||(h={}));var _,E=/[^\u0000-\u007F]/,S=function(){function Batch(e,t,n,r,i,o){void 0===o&&(o=noop),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return Batch.prototype.add=function(e){this.addOrUpdate(e)},Batch.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},Batch.prototype.flush=function(e){if(0!==this.bufferMessageCount){var t=__spreadArrays(this.pushOnlyBuffer,objectValues(this.upsertBuffer));this.request.send(t.join("\n"),this.bufferBytesSize,e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},Batch.prototype.sizeInBytes=function(e){return E.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},Batch.prototype.addOrUpdate=function(e,t){var n=this.process(e),i=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?r.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush("willReachedBytesLimitWith"),this.push(i,o,t),this.isFull()&&this.flush("isFull"))},Batch.prototype.process=function(e){var t=jsonStringify(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},Batch.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},Batch.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},Batch.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},Batch.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},Batch.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},Batch.prototype.flushPeriodically=function(){var e=this;setTimeout(monitor((function(){e.flush("flushPeriodically"),e.flushPeriodically()})),this.flushTimeout)},Batch.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(addEventListener(window,"beforeunload",this.beforeUnloadCallback),addEventListener(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush("visibilitychange")})),addEventListener(window,"beforeunload",(function(){return e.flush("beforeunload")})))},Batch}(),w=!1,C=function(){function HttpRequest(e,t){this.endpointBuilder=e,this.bytesLimit=t}return HttpRequest.prototype.send=function(e,t,n){var r=this.endpointBuilder.build(),i=!!navigator.sendBeacon&&t<this.bytesLimit;if(i)try{if(navigator.sendBeacon(r,e))return}catch(e){!function reportBeaconError(e){T||(T=!0,addMonitoringError(e))}(e)}var o=new XMLHttpRequest;o.addEventListener("loadend",monitor((function(e){return function(e){var o=null==e?void 0:e.currentTarget;o.status>=200&&o.status<300||w||(w=!0,addMonitoringMessage("XHR fallback failed",{on_line:navigator.onLine,size:t,url:r,try_beacon:i,flush_reason:n,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:o.status,ready_state:o.readyState,response_text:o.responseText.slice(0,512)}}))}(e)}))),o.open("POST",r,!0),o.send(e)},HttpRequest}(),T=!1;!function(e){e.info="info",e.error="error"}(_||(_={}));var k,R,O={maxMessagesPerPage:0,sentMessageCount:0};function startInternalMonitoring(e){var t;if(canUseEventBridge()){var n=getEventBridge();k=function(e){return n.send("internal_log",withContext(e))}}else if(e.internalMonitoringEndpointBuilder){var r=function startMonitoringBatch(e){var t,n=createMonitoringBatch(e.internalMonitoringEndpointBuilder);function createMonitoringBatch(t){return new S(new C(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=createMonitoringBatch(e.replica.internalMonitoringEndpointBuilder)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);k=function(e){return r.add(withContext(e))}}function withContext(e){return combine({date:(new Date).getTime()},void 0!==t?t():{},e)}return utils_assign(O,{maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0}),{setExternalContextProvider:function(e){t=e}}}function monitor(e){return function(){return callMonitored(e,this,arguments)}}function callMonitored(e,t,n){try{return e.apply(t,n)}catch(e){logErrorIfDebug(e);try{addMonitoringError(e)}catch(e){logErrorIfDebug(e)}}}function addMonitoringMessage(e,t){!function logMessageIfDebug(e,t){O.debugMode&&r.log("[MONITORING MESSAGE]",e,t)}(e,t),addToMonitoring(__assign(__assign({message:e},t),{status:_.info}))}function addMonitoringError(e){addToMonitoring(__assign(__assign({},function formatError(e){if(e instanceof Error){var t=computeStackTrace(e);return{error:{kind:t.name,stack:toStackTraceString(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+jsonStringify(e)}}(e)),{status:_.error}))}function addToMonitoring(e){k&&O.sentMessageCount<O.maxMessagesPerPage&&(O.sentMessageCount+=1,k(e))}function setDebugMode(e){O.debugMode=e}function logErrorIfDebug(e){O.debugMode&&r.error("[INTERNAL ERROR]",e)}function catchUserErrors(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return e.apply(void 0,n)}catch(e){r.error(t,e)}}}!function(e){e.RELEASE="release",e.CANARY="canary",e.E2E_TEST="e2e-test"}(R||(R={}));var tslib_es6_assign=function(){return(tslib_es6_assign=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var x,A=function(){function BoundedBuffer(){this.buffer=[]}return BoundedBuffer.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},BoundedBuffer.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},BoundedBuffer}();function relativeToClocks(e){return{relative:e,timeStamp:getCorrectedTimeStamp(e)}}function getCorrectedTimeStamp(e){var t=Date.now()-performance.now();return t>getNavigationStart()?Math.round(t+e):function getTimeStamp(e){return Math.round(getNavigationStart()+e)}(e)}function toServerDuration(e){return isNumber(e)?round(1e6*e,0):e}function timeStampNow(){return Date.now()}function relativeNow(){return performance.now()}function clocksNow(){return{relative:relativeNow(),timeStamp:timeStampNow()}}function clocksOrigin(){return{relative:0,timeStamp:getNavigationStart()}}function elapsed(e,t){return t-e}function getRelativeTime(e){return e-getNavigationStart()}function getNavigationStart(){return void 0===x&&(x=performance.timing.navigationStart),x}var L,I;function setCookie(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+o+";path=/;samesite="+a+s+u}function getCookie(e){return findCommaSeparatedValue(document.cookie,e)}function deleteCookie(e,t){setCookie(e,"",0,t)}function normalizeUrl(e){return buildUrl(e,function getLocationOrigin(){return getLinkElementOrigin(window.location)}()).href}function getOrigin(e){return getLinkElementOrigin(buildUrl(e))}function buildUrl(e,t){if(function checkURLSupported(){if(void 0!==I)return I;try{var e=new URL("http://test/path");return I="http://test/path"===e.href}catch(e){I=!1}return I}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}var N={logs:"logs",rum:"rum",sessionReplay:"session-replay"},D={logs:"logs",rum:"rum",sessionReplay:"replay"},M="datadoghq.com";function createEndpointBuilder(e,t,n,r,i){var o=e.site,a=void 0===o?M:o,s=e.clientToken,u=a.split("."),c=u.pop(),l="https://"+(N[n]+".browser-intake-"+u.join("-")+"."+c)+"/api/v2/"+D[n],d=e.proxyUrl&&normalizeUrl(e.proxyUrl);return{build:function(){var e="ddsource="+(i||"browser")+"&ddtags="+encodeURIComponent(["sdk_version:"+t.sdkVersion].concat(r).join(","))+"&dd-api-key="+s+"&dd-evp-origin-version="+encodeURIComponent(t.sdkVersion)+"&dd-evp-origin=browser&dd-request-id="+generateUUID();"rum"===n&&(e+="&batch_time="+timeStampNow());var o=l+"?"+e;return d?d+"?ddforward="+encodeURIComponent(o):o},buildIntakeUrl:function(){return d?d+"?ddforward":l}}}var U=/[^a-z0-9_:./-]/;function buildTag(e,t){var n=200-e.length-1;return(t.length>n||U.test(t))&&r.warn(e+" value doesn't meet tag requirements and will be sanitized"),e+":"+t.replace(/,/g,"_")}function computeTransportConfiguration(e,t){var n=function buildTags(e){var t=e.env,n=e.service,r=e.version,i=e.datacenter,o=[];return t&&o.push(buildTag("env",t)),n&&o.push(buildTag("service",n)),r&&o.push(buildTag("version",r)),i&&o.push(buildTag("datacenter",i)),o}(e),r=function computeEndpointBuilders(e,t,n){if(t.buildMode===R.E2E_TEST){var e2eEndpointBuilder=function(e){return{build:function(){return e},buildIntakeUrl:function(){return e}}};return{logsEndpointBuilder:e2eEndpointBuilder("<<< E2E LOGS ENDPOINT >>>"),rumEndpointBuilder:e2eEndpointBuilder("<<< E2E RUM ENDPOINT >>>"),sessionReplayEndpointBuilder:e2eEndpointBuilder("<<< E2E SESSION REPLAY ENDPOINT >>>"),internalMonitoringEndpointBuilder:e2eEndpointBuilder("<<< E2E INTERNAL MONITORING ENDPOINT >>>")}}var r={logsEndpointBuilder:createEndpointBuilder(e,t,"logs",n),rumEndpointBuilder:createEndpointBuilder(e,t,"rum",n),sessionReplayEndpointBuilder:createEndpointBuilder(e,t,"sessionReplay",n)};if(e.internalMonitoringApiKey)return __assign(__assign({},r),{internalMonitoringEndpointBuilder:createEndpointBuilder(__assign(__assign({},e),{clientToken:e.internalMonitoringApiKey}),t,"logs",n,"browser-agent-internal-monitoring")});return r}(e,t,n),i=objectValues(r).map((function(e){return e.buildIntakeUrl()})),o=function computeReplicaConfiguration(e,t,n,r){if(!e.replica)return;var i=__assign(__assign({},e),{site:M,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:createEndpointBuilder(i,t,"logs",r),rumEndpointBuilder:createEndpointBuilder(i,t,"rum",r),internalMonitoringEndpointBuilder:createEndpointBuilder(i,t,"logs",r,"browser-agent-internal-monitoring")};return n.push.apply(n,objectValues(o).map((function(e){return e.buildIntakeUrl()}))),__assign({applicationId:e.replica.applicationId},o)}(e,t,i,n);return __assign(__assign({isIntakeUrl:function(e){return i.some((function(t){return 0===e.indexOf(t)}))}},r),{replica:o})}var P,B,z,j={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function validateAndBuildConfiguration(e,t){var n;if(e&&e.clientToken){if(void 0===e.sampleRate||isPercentage(e.sampleRate))return function updateExperimentalFeatures(e){Array.isArray(e)&&(v||(v=new Set(e)),e.filter((function(e){return"string"==typeof e})).forEach((function(e){v.add(e)})))}(e.enableExperimentalFeatures),__assign(__assign({},computeTransportConfiguration(e,t)),{beforeSend:e.beforeSend&&catchUserErrors(e.beforeSend,"beforeSend threw an error:"),cookieOptions:buildCookieOptions(e),sampleRate:null!==(n=e.sampleRate)&&void 0!==n?n:100,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxInternalMonitoringMessagesPerPage:15,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144});r.error("Sample Rate should be a number between 0 and 100")}else r.error("Client Token is not configured, we will not send any data.")}function buildCookieOptions(e){var t={};return t.secure=function mustUseSecureCookie(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function getCurrentSite(){if(void 0===L){for(var e="dd_site_test_"+generateUUID(),t=window.location.hostname.split("."),n=t.pop();t.length&&!getCookie(e);)n=t.pop()+"."+n,setCookie(e,"test",f,{domain:n});deleteCookie(e,{domain:n}),L=n}return L}()),t}!function(e){e.ACTION="action",e.ERROR="error",e.LONG_TASK="long_task",e.VIEW="view",e.RESOURCE="resource"}(P||(P={})),function(e){e.INITIAL_LOAD="initial_load",e.ROUTE_CHANGE="route_change"}(B||(B={})),function(e){e.CLICK="click",e.CUSTOM="custom"}(z||(z={}));function willSyntheticsInjectRum(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||getCookie("datadog-synthetics-injects-rum"))}var F={buildMode:"release",sdkVersion:"4.4.0"};var V,H=function(){function Observable(e){this.onFirstSubscribe=e,this.observers=[]}return Observable.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},Observable.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},Observable}();function getMutationObserverConstructor(){var e,t=window;if(t.Zone){var n=t.Zone.__symbol__("MutationObserver");e=t[n]}return e||(e=t.MutationObserver),e}!function(e){e[e.PERFORMANCE_ENTRIES_COLLECTED=0]="PERFORMANCE_ENTRIES_COLLECTED",e[e.AUTO_ACTION_CREATED=1]="AUTO_ACTION_CREATED",e[e.AUTO_ACTION_COMPLETED=2]="AUTO_ACTION_COMPLETED",e[e.AUTO_ACTION_DISCARDED=3]="AUTO_ACTION_DISCARDED",e[e.VIEW_CREATED=4]="VIEW_CREATED",e[e.VIEW_UPDATED=5]="VIEW_UPDATED",e[e.VIEW_ENDED=6]="VIEW_ENDED",e[e.REQUEST_STARTED=7]="REQUEST_STARTED",e[e.REQUEST_COMPLETED=8]="REQUEST_COMPLETED",e[e.SESSION_EXPIRED=9]="SESSION_EXPIRED",e[e.SESSION_RENEWED=10]="SESSION_RENEWED",e[e.BEFORE_UNLOAD=11]="BEFORE_UNLOAD",e[e.RAW_RUM_EVENT_COLLECTED=12]="RAW_RUM_EVENT_COLLECTED",e[e.RUM_EVENT_COLLECTED=13]="RUM_EVENT_COLLECTED",e[e.RAW_ERROR_COLLECTED=14]="RAW_ERROR_COLLECTED"}(V||(V={}));var W=function(){function LifeCycle(){this.callbacks={}}return LifeCycle.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},LifeCycle.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},LifeCycle}(),q="initial_document",G=[[l.DOCUMENT,function(e){return q===e}],[l.XHR,function(e){return"xmlhttprequest"===e}],[l.FETCH,function(e){return"fetch"===e}],[l.BEACON,function(e){return"beacon"===e}],[l.CSS,function(e,t){return/\.css$/i.test(t)}],[l.JS,function(e,t){return/\.js$/i.test(t)}],[l.IMAGE,function(e,t){return includes(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],[l.FONT,function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],[l.MEDIA,function(e,t){return includes(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function computeResourceKind(e){var t=e.name;if(!function isValidUrl(e){try{return!!buildUrl(e)}catch(e){return!1}}(t))return addMonitoringMessage('Failed to construct URL for "'+e.name+'"'),l.OTHER;for(var n=function getPathName(e){var t=buildUrl(e).pathname;return"/"===t[0]?t:"/"+t}(t),r=0,i=G;r<i.length;r++){var o=i[r],a=o[0];if((0,o[1])(e.initiatorType,n))return a}return l.OTHER}function areInOrder(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function isRequestKind(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType}function computePerformanceResourceDuration(e){var t=e.duration,n=e.startTime,r=e.responseEnd;return toServerDuration(0===t&&n<r?elapsed(n,r):t)}function computePerformanceResourceDetails(e){var t=toValidEntry(e);if(t){var n=t.startTime,r=t.fetchStart,i=t.redirectStart,o=t.redirectEnd,a=t.domainLookupStart,s=t.domainLookupEnd,u=t.connectStart,c=t.secureConnectionStart,l=t.connectEnd,d=t.requestStart,f=t.responseStart,p={download:formatTiming(n,f,t.responseEnd),first_byte:formatTiming(n,d,f)};return l!==r&&(p.connect=formatTiming(n,u,l),areInOrder(u,c,l)&&(p.ssl=formatTiming(n,c,l))),s!==r&&(p.dns=formatTiming(n,a,s)),hasRedirection(e)&&(p.redirect=formatTiming(n,i,o)),p}}function toValidEntry(e){if(areInOrder(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd)){if(!hasRedirection(e))return e;var t=e.redirectStart,n=e.redirectEnd;if(t<e.startTime&&(t=e.startTime),n<e.startTime&&(n=e.fetchStart),areInOrder(e.startTime,t,n,e.fetchStart))return tslib_es6_assign(tslib_es6_assign({},e),{redirectEnd:n,redirectStart:t})}}function hasRedirection(e){return e.fetchStart!==e.startTime}function formatTiming(e,t,n){return{duration:toServerDuration(elapsed(t,n)),start:toServerDuration(elapsed(e,t))}}function computeSize(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function isAllowedRequestUrl(e,t){return t&&!e.isIntakeUrl(t)}function getDocumentTraceId(e){var t=function getDocumentTraceDataFromMeta(e){var t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]");return createDocumentTraceData(t&&t.content,n&&n.content)}(e)||function getDocumentTraceDataFromComment(e){var t=function findTraceComment(e){for(var t=0;t<e.childNodes.length;t+=1){if(n=getTraceCommentFromNode(e.childNodes[t]))return n}if(e.body)for(t=e.body.childNodes.length-1;t>=0;t-=1){var n,r=e.body.childNodes[t];if(n=getTraceCommentFromNode(r))return n;if(!isTextNode(r))break}}(e);if(!t)return;return createDocumentTraceData(findCommaSeparatedValue(t,"trace-id"),findCommaSeparatedValue(t,"trace-time"))}(e);if(t&&!(t.traceTime<=Date.now()-12e4))return t.traceId}function createDocumentTraceData(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function getTraceCommentFromNode(e){if(e&&function isCommentNode(e){return"#comment"===e.nodeName}(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function isTextNode(e){return"#text"===e.nodeName}function supportPerformanceObject(){return void 0!==window.performance&&"getEntries"in performance}function supportPerformanceTimingEvent(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function startPerformanceCollection(e,t){if(function retrieveInitialDocumentResourceTiming(e){runOnReadyState("interactive",(function(){var t,n={entryType:"resource",initiatorType:q,traceId:getDocumentTraceId(document)};if(supportPerformanceTimingEvent("navigation")&&performance.getEntriesByType("navigation").length>0){var r=performance.getEntriesByType("navigation")[0];t=tslib_es6_assign(tslib_es6_assign({},r.toJSON()),n)}else{var i=computeRelativePerformanceTiming();t=tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({},i),{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0}),n)}e(t)}))}((function(n){handleRumPerformanceEntries(e,t,[n])})),supportPerformanceObject()&&handleRumPerformanceEntries(e,t,performance.getEntries()),window.PerformanceObserver){var n=monitor((function(n){return handleRumPerformanceEntries(e,t,n.getEntries())})),r=["resource","navigation","longtask","paint"],i=["largest-contentful-paint","first-input","layout-shift"];try{i.forEach((function(e){new PerformanceObserver(n).observe({type:e,buffered:!0})}))}catch(e){r.push.apply(r,i)}new PerformanceObserver(n).observe({entryTypes:r}),supportPerformanceObject()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}supportPerformanceTimingEvent("navigation")||function retrieveNavigationTiming(e){function sendFakeTiming(){e(tslib_es6_assign(tslib_es6_assign({},computeRelativePerformanceTiming()),{entryType:"navigation"}))}runOnReadyState("complete",(function(){setTimeout(monitor(sendFakeTiming))}))}((function(n){handleRumPerformanceEntries(e,t,[n])})),supportPerformanceTimingEvent("first-input")||function retrieveFirstInputTiming(e){var t=Date.now(),n=!1,r=addEventListeners(window,["click","mousedown","keydown","touchstart","pointerdown"],(function(e){if(e.cancelable){var t={entryType:"first-input",processingStart:relativeNow(),startTime:e.timeStamp};"pointerdown"===e.type?sendTimingIfPointerIsNotCancelled(t):sendTiming(t)}}),{passive:!0,capture:!0}).stop;function sendTimingIfPointerIsNotCancelled(e){addEventListeners(window,["pointerup","pointercancel"],(function(t){"pointerup"===t.type&&sendTiming(e)}),{once:!0})}function sendTiming(i){if(!n){n=!0,r();var o=i.processingStart-i.startTime;o>=0&&o<Date.now()-t&&e(i)}}}((function(n){handleRumPerformanceEntries(e,t,[n])}))}function computeRelativePerformanceTiming(){var e={},t=performance.timing;for(var n in t)if(isNumber(t[n])){var r=n,i=t[r];e[r]=0===i?0:getRelativeTime(i)}return e}function handleRumPerformanceEntries(e,t,n){var r=n.filter((function(e){return"resource"===e.entryType||"navigation"===e.entryType||"paint"===e.entryType||"longtask"===e.entryType||"largest-contentful-paint"===e.entryType||"first-input"===e.entryType||"layout-shift"===e.entryType})).filter((function(e){return!function isIncompleteNavigation(e){return"navigation"===e.entryType&&e.loadEventEnd<=0}(e)&&!function isForbiddenResource(e,t){return"resource"===t.entryType&&!isAllowedRequestUrl(e,t.name)}(t,e)}));r.length&&e.notify(V.PERFORMANCE_ENTRIES_COLLECTED,r)}function createEventRateLimiter(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&setTimeout((function(){r=0}),p),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of "+e+"s by minute: "+t,source:g,startClocks:clocksNow()})}finally{i=!1}}return!0}}}function get(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o=i[r];if(!isValidObjectContaining(n,o))return;n=n[o]}return n}function set(e,t,n){for(var r=e,i=t.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!isValidObjectContaining(r,a))return;o!==i.length-1?r=r[a]:r[a]=n}}function isValidObjectContaining(e,t){return"object"==typeof e&&null!==e&&t in e}var X=function(){function ContextHistory(e){var t=this;this.expireDelay=e,this.previousContexts=[],this.clearOldContextsInterval=setInterval((function(){return t.clearOldContexts()}),6e4)}return ContextHistory.prototype.find=function(e){if(void 0===e||void 0!==this.current&&void 0!==this.currentStart&&e>=this.currentStart)return this.current;for(var t=0,n=this.previousContexts;t<n.length;t++){var r=n[t];if(e>r.endTime)break;if(e>=r.startTime)return r.context}},ContextHistory.prototype.setCurrent=function(e,t){this.current=e,this.currentStart=t},ContextHistory.prototype.getCurrent=function(){return this.current},ContextHistory.prototype.clearCurrent=function(){this.current=void 0,this.currentStart=void 0},ContextHistory.prototype.closeCurrent=function(e){void 0!==this.current&&void 0!==this.currentStart&&(this.previousContexts.unshift({endTime:e,context:this.current,startTime:this.currentStart}),this.clearCurrent())},ContextHistory.prototype.clearOldContexts=function(){for(var e=relativeNow()-this.expireDelay;this.previousContexts.length>0&&this.previousContexts[this.previousContexts.length-1].startTime<e;)this.previousContexts.pop()},ContextHistory.prototype.reset=function(){this.clearCurrent(),this.previousContexts=[]},ContextHistory.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},ContextHistory}();var Z=9e5,Y=144e5;function startSessionStore(e,t,n){var r=new H,i=new H,o=setInterval(monitor((function watchSession(){withCookieLockAccess({options:e,process:function(e){return isActiveSession(e)?void 0:{}},after:synchronizeSession})})),1e3),a=function retrieveActiveSession(){var e=retrieveSession();if(isActiveSession(e))return e;return{}}();function synchronizeSession(e){return isActiveSession(e)||(e={}),hasSessionInCache()&&(!function isSessionInCacheOutdated(e){return a.id!==e.id||a[t]!==e[t]}(e)?a=e:function expireSession(){a={},i.notify()}()),e}function hasSessionInCache(){return void 0!==a[t]}function isActiveSession(e){return(void 0===e.created||Date.now()-Number(e.created)<Y)&&(void 0===e.expire||Date.now()<Number(e.expire))}return{expandOrRenewSession:throttle(monitor((function expandOrRenewSession(){var i;withCookieLockAccess({options:e,process:function(e){var r=synchronizeSession(e);return i=function expandOrRenewCookie(e){var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,o&&!e.id&&(e.id=generateUUID(),e.created=String(Date.now()));return o}(r),r},after:function(e){i&&!hasSessionInCache()&&function renewSession(e){a=e,r.notify()}(e),a=e}})})),1e3).throttled,expandSession:function expandSession(){withCookieLockAccess({options:e,process:function(e){return hasSessionInCache()?synchronizeSession(e):void 0}})},getSession:function(){return a},renewObservable:r,expireObservable:i,stop:function(){clearInterval(o)}}}var K,J=/^([a-z]+)=([a-z0-9-]+)$/,$="&",Q="_dd_s",ee=[];function withCookieLockAccess(e,t){var n;if(void 0===t&&(t=0),K||(K=e),e===K)if(t>=100)next();else{var r,i=retrieveSession();if(isCookieLockEnabled()){if(i.lock)return void retryLater(e,t);if(r=generateUUID(),i.lock=r,setSession(i,e.options),(i=retrieveSession()).lock!==r)return void retryLater(e,t)}var o=e.process(i);if(isCookieLockEnabled()&&(i=retrieveSession()).lock!==r)retryLater(e,t);else{if(o&&persistSession(o,e.options),isCookieLockEnabled()&&(!o||!isExpiredState(o))){if((i=retrieveSession()).lock!==r)return void retryLater(e,t);delete i.lock,setSession(i,e.options),o=i}null===(n=e.after)||void 0===n||n.call(e,o||i),next()}}else ee.push(e)}function isCookieLockEnabled(){return function isChromium(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}()}function retryLater(e,t){setTimeout(monitor((function(){withCookieLockAccess(e,t+1)})),10)}function next(){K=void 0;var e=ee.shift();e&&withCookieLockAccess(e)}function persistSession(e,t){isExpiredState(e)?function clearSession(e){setCookie(Q,"",0,e)}(t):(e.expire=String(Date.now()+Z),setSession(e,t))}function setSession(e,t){setCookie(Q,function toSessionString(e){return objectEntries(e).map((function(e){return e[0]+"="+e[1]})).join($)}(e),Z,t)}function retrieveSession(){var e=getCookie(Q),t={};return function isValidSessionString(e){return void 0!==e&&(-1!==e.indexOf($)||J.test(e))}(e)&&e.split($).forEach((function(e){var n=J.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}})),t}function isExpiredState(e){return isEmptyObject(e)}var te=[];function startSessionManager(e,t,n){!function tryOldCookiesMigration(e){var t=getCookie(Q),n=getCookie("_dd"),r=getCookie("_dd_r"),i=getCookie("_dd_l");if(!t){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o.logs=i),r&&/^[012]$/.test(r)&&(o.rum=r),persistSession(o,e)}}(e);var r=startSessionStore(e,t,n);te.push((function(){return r.stop()}));var i=new X(144e5);function buildSessionContext(){return{id:r.getSession().id,trackingType:r.getSession()[t]}}return te.push((function(){return i.stop()})),r.renewObservable.subscribe((function(){i.setCurrent(buildSessionContext(),relativeNow())})),r.expireObservable.subscribe((function(){i.closeCurrent(relativeNow())})),r.expandOrRenewSession(),i.setCurrent(buildSessionContext(),clocksOrigin().relative),function trackActivity(e){var t=addEventListeners(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;te.push(t)}((function(){return r.expandOrRenewSession()})),function trackVisibility(e){var t=monitor((function(){"visible"===document.visibilityState&&e()})),n=addEventListener(document,"visibilitychange",t).stop;te.push(n);var r=setInterval(t,6e4);te.push((function(){clearInterval(r)}))}((function(){return r.expandSession()})),{findActiveSession:function(e){return i.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}var ne,re,ie;function startRumSessionManager(e,t){var n=startSessionManager(e.cookieOptions,"rum",(function(t){return function rumSessionManager_computeSessionState(e,t){var n;n=function hasValidRumSession(e){return e===re.NOT_TRACKED||e===re.TRACKED_REPLAY||e===re.TRACKED_LITE}(t)?t:performDraw(e.sampleRate)?performDraw(e.replaySampleRate)?re.TRACKED_REPLAY:re.TRACKED_LITE:re.NOT_TRACKED;return{trackingType:n,isTracked:isTypeTracked(n)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(V.SESSION_EXPIRED)})),n.renewObservable.subscribe((function(){t.notify(V.SESSION_RENEWED)})),{findTrackedSession:function(e){var t=n.findActiveSession(e);if(t&&isTypeTracked(t.trackingType))return{id:t.id,hasReplayPlan:t.trackingType===re.TRACKED_REPLAY,hasLitePlan:t.trackingType===re.TRACKED_LITE}}}}function isTypeTracked(e){return e===re.TRACKED_LITE||e===re.TRACKED_REPLAY}!function(e){e[e.LITE=1]="LITE",e[e.REPLAY=2]="REPLAY"}(ne||(ne={})),function(e){e.NOT_TRACKED="0",e.TRACKED_REPLAY="1",e.TRACKED_LITE="2"}(re||(re={})),function(e){e.SYNTHETICS="synthetics",e.USER="user",e.CI_TEST="ci_test"}(ie||(ie={}));var oe=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],ae=function tslib_es6_spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(oe,["context"]);function startRumAssembly(e,t,n,i,o,a){var s,reportError=function(e){t.notify(V.RAW_ERROR_COLLECTED,{error:e})},u=((s={})[P.ERROR]=createEventRateLimiter(P.ERROR,e.eventRateLimiterThreshold,reportError),s[P.ACTION]=createEventRateLimiter(P.ACTION,e.eventRateLimiterThreshold,reportError),s),c=function getSyntheticsContext(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||getCookie("datadog-synthetics-public-id"),t=window._DATADOG_SYNTHETICS_RESULT_ID||getCookie("datadog-synthetics-result-id");if("string"==typeof e&&"string"==typeof t)return{test_id:e,result_id:t,injected:willSyntheticsInjectRum()}}(),l=function getCiTestContext(){var e,t=null===(e=window.Cypress)||void 0===e?void 0:e.env("traceId");if("string"==typeof t)return{test_execution_id:t}}();t.subscribe(V.RAW_RUM_EVENT_COLLECTED,(function(s){var d=s.startTime,f=s.rawRumEvent,p=s.domainContext,h=s.savedCommonContext,v=s.customerContext,g=i.findView(d),m=o.findUrl(d),y=n.findTrackedSession(f.type!==P.VIEW?d:void 0);if(y&&g&&m){var b=i.findAction(d),_=h||a(),E={_dd:{format_version:2,drift:Math.round(Date.now()-(getNavigationStart()+performance.now())),session:{plan:y.hasReplayPlan?ne.REPLAY:ne.LITE},browser_sdk_version:canUseEventBridge()?F.sdkVersion:void 0},application:{id:e.applicationId},date:timeStampNow(),service:e.service,source:"browser",session:{id:y.id,type:c?ie.SYNTHETICS:l?ie.CI_TEST:ie.USER},synthetics:c,ci_test:l},S=function needToAssembleWithAction(e){return-1!==[P.ERROR,P.RESOURCE,P.LONG_TASK].indexOf(e.type)}(f)?combine(E,m,g,b,f):combine(E,m,g,f);S.context=combine(_.context,v),"has_replay"in S.session||(S.session.has_replay=_.hasReplay),isEmptyObject(_.user)||(S.usr=_.user),function shouldSend(e,t,n,i){var o;if(t){var a=function limitModification(e,t,n){var r=deepClone(e),i=n(r);return t.forEach((function(t){var n=get(e,t),i=get(r,t),o=getType(n),a=getType(i);a===o?set(e,t,i):"object"!==o||"undefined"!==a&&"null"!==a||set(e,t,{})})),i}(e,e.type===P.VIEW?oe:ae,(function(e){return t(e,n)}));if(!1===a&&e.type!==P.VIEW)return!1;!1===a&&r.warn("Can't dismiss view events using beforeSend!")}return!(null===(o=i[e.type])||void 0===o?void 0:o.isLimitReached())}(S,e.beforeSend,p,u)&&(isEmptyObject(S.context)&&delete S.context,t.notify(V.RUM_EVENT_COLLECTED,S))}}))}var se=[];function startForegroundContexts(){document.hasFocus()&&addNewForegroundPeriod();var e=function trackFocus(e){return addEventListener(window,"focus",(function(t){t.isTrusted&&e()}))}(addNewForegroundPeriod).stop,t=function trackBlur(e){return addEventListener(window,"blur",(function(t){t.isTrusted&&e()}))}(closeForegroundPeriod).stop;return{isInForegroundAt:isInForegroundAt,selectInForegroundPeriodsFor:selectInForegroundPeriodsFor,stop:function(){se=[],e(),t()}}}function addNewForegroundPeriod(){if(!(se.length>2500)){var e=se[se.length-1],t=relativeNow();void 0!==e&&void 0===e.end||se.push({start:t})}}function closeForegroundPeriod(){if(0!==se.length){var e=se[se.length-1],t=relativeNow();void 0===e.end&&(e.end=t)}}function isInForegroundAt(e){for(var t=se.length-1;t>=0;t--){var n=se[t];if(void 0!==n.end&&e>n.end)break;if(e>n.start&&(void 0===n.end||e<n.end))return!0}return!1}function selectInForegroundPeriodsFor(e,t){for(var n=e+t,r=[],i=Math.max(0,se.length-500),o=se.length-1;o>=i;o--){var a=se[o];if(void 0!==a.end&&e>a.end)break;if(!(n<a.start)){var s=e>a.start?e:a.start,u=elapsed(e,s),c=elapsed(s,void 0===a.end||n<a.end?n:a.end);r.unshift({start:toServerDuration(u),duration:toServerDuration(c)})}}return r}var ue;function instrumentMethod(e,t,n){var r=e[t],i=n(r),instrumentationWrapper=function(){return i.apply(this,arguments)};return e[t]=instrumentationWrapper,{stop:function(){e[t]===instrumentationWrapper?e[t]=r:i=r}}}function instrumentMethodAndCallOriginal(e,t,n){var r=n.before,i=n.after;return instrumentMethod(e,t,(function(e){return function(){var t,n=arguments;return r&&callMonitored(r,this,n),"function"==typeof e&&(t=e.apply(this,n)),i&&callMonitored(i,this,n),t}}))}var ce,le=new WeakMap;function initXhrObservable(){return ue||(ue=function createXhrObservable(){var e=new H((function(){var t=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"open",{before:openXhr}).stop,n=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"send",{before:function(){sendXhr.call(this,e)}}).stop,r=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"abort",{before:abortXhr}).stop;return function(){t(),n(),r()}}));return e}()),ue}function openXhr(e,t){le.set(this,{state:"open",method:e,url:normalizeUrl(t)})}function sendXhr(e){var t=this,n=le.get(this);if(n){var r=n;r.state="start",r.startTime=relativeNow(),r.startClocks=clocksNow(),r.isAborted=!1,r.xhr=this;var i=!1,o=instrumentMethodAndCallOriginal(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=monitor((function(){if(t.removeEventListener("loadend",a),o(),!i){i=!0;var s=n;s.state="complete",s.duration=elapsed(r.startClocks.timeStamp,timeStampNow()),s.status=t.status,e.notify(__assign({},s))}}));this.addEventListener("loadend",a),e.notify(r)}}function abortXhr(){var e=le.get(this);e&&(e.isAborted=!0)}function initFetchObservable(){return ce||(ce=function createFetchObservable(){var e=new H((function(){if(window.fetch)return instrumentMethod(window,"fetch",(function(t){return function(n,r){var i,o=callMonitored(fetchObservable_beforeSend,null,[e,n,r]);return o?(i=t.call(this,o.input,o.init),callMonitored(afterSend,null,[e,i,o])):i=t.call(this,n,r),i}})).stop}));return e}()),ce}function fetchObservable_beforeSend(e,t,n){var r=n&&n.method||"object"==typeof t&&t.method||"GET",i=normalizeUrl("object"==typeof t&&t.url||t),o={state:"start",init:n,input:t,method:r,startClocks:clocksNow(),url:i};return e.notify(o),o}function afterSend(e,t,n){var reportFetch=function(t){var r=n;r.state="complete",r.duration=elapsed(r.startClocks.timeStamp,timeStampNow()),"stack"in t||t instanceof Error?(r.status=0,r.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t,e.notify(r)):"status"in t&&(r.response=t,r.responseType=t.type,r.status=t.status,r.isAborted=!1,e.notify(r))};t.then(monitor(reportFetch),monitor(reportFetch))}function clearTracingIfNeeded(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0)}function injectHeadersIfTracingAllowed(e,t,n,r){(function isTracingSupported(){return void 0!==getCrypto()})()&&function isAllowedUrl(e,t){for(var n=getOrigin(t),r=0,i=e.allowedTracingOrigins;r<i.length;r++){var o=i[r];if(n===o||o instanceof RegExp&&o.test(n))return!0}return!1}(e,t.url)&&n.findTrackedSession()&&(t.traceId=new de,t.spanId=new de,r(function makeTracingHeaders(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t.toDecimalString(),"x-datadog-sampled":"1","x-datadog-sampling-priority":"1","x-datadog-trace-id":e.toDecimalString()}}(t.traceId,t.spanId)))}function getCrypto(){return window.crypto||window.msCrypto}var de=function(){function TraceIdentifier(){this.buffer=new Uint8Array(8),getCrypto().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return TraceIdentifier.prototype.toString=function(e){var t=this.readInt32(0),n=this.readInt32(4),r="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r}while(t||n);return r},TraceIdentifier.prototype.toDecimalString=function(){return this.toString(10)},TraceIdentifier.prototype.readInt32=function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},TraceIdentifier}(),fe=1;function startRequestCollection(e,t,n){var r=function startTracer(e,t){return{clearTracingIfNeeded:clearTracingIfNeeded,traceFetch:function(n){return injectHeadersIfTracingAllowed(e,n,t,(function(e){var t;if(n.input instanceof Request&&!(null===(t=n.init)||void 0===t?void 0:t.headers))n.input=new Request(n.input),Object.keys(e).forEach((function(t){n.input.headers.append(t,e[t])}));else{n.init=tslib_es6_assign({},n.init);var r=[];n.init.headers instanceof Headers?n.init.headers.forEach((function(e,t){r.push([t,e])})):Array.isArray(n.init.headers)?n.init.headers.forEach((function(e){r.push(e)})):n.init.headers&&Object.keys(n.init.headers).forEach((function(e){r.push([e,n.init.headers[e]])})),n.init.headers=r.concat(objectEntries(e))}}))},traceXhr:function(n,r){return injectHeadersIfTracingAllowed(e,n,t,(function(e){Object.keys(e).forEach((function(t){r.setRequestHeader(t,e[t])}))}))}}}(t,n);!function trackXhr(e,t,n){var r=initXhrObservable().subscribe((function(r){var i=r;if(isAllowedRequestUrl(t,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=getNextRequestIndex(),e.notify(V.REQUEST_STARTED,{requestIndex:i.requestIndex});break;case"complete":n.clearTracingIfNeeded(i),e.notify(V.REQUEST_COMPLETED,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,type:d.XHR,url:i.url,xhr:i.xhr})}}));return{stop:function(){return r.unsubscribe()}}}(e,t,r),function trackFetch(e,t,n){var r=initFetchObservable().subscribe((function(r){var i=r;if(isAllowedRequestUrl(t,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=getNextRequestIndex(),e.notify(V.REQUEST_STARTED,{requestIndex:i.requestIndex});break;case"complete":n.clearTracingIfNeeded(i),e.notify(V.REQUEST_COMPLETED,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,type:d.FETCH,url:i.url,response:i.response,init:i.init,input:i.input})}}));return{stop:function(){return r.unsubscribe()}}}(e,t,r)}function getNextRequestIndex(){var e=fe;return fe+=1,e}function trackEventCounts(e,t){void 0===t&&(t=noop);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},r=e.subscribe(V.RUM_EVENT_COLLECTED,(function(e){switch(e.type){case P.ERROR:n.errorCount+=1,t(n);break;case P.ACTION:n.userActionCount+=1,t(n);break;case P.LONG_TASK:n.longTaskCount+=1,t(n);break;case P.RESOURCE:n.resourceCount+=1,t(n)}}));return{stop:function(){r.unsubscribe()},eventCounts:n}}function waitIdlePage(e,t,n,r){return function doWaitIdlePage(e,t,n){var r,i=!1,o=setTimeout(monitor((function(){return complete({hadActivity:!1})})),100),a=n&&setTimeout(monitor((function(){return complete({hadActivity:!0,end:timeStampNow()})})),n),s=e.subscribe((function(e){var t=e.isBusy;clearTimeout(o),clearTimeout(r);var n=timeStampNow();t||(r=setTimeout(monitor((function(){return complete({hadActivity:!0,end:n})})),100))})),stop=function(){i=!0,clearTimeout(o),clearTimeout(r),clearTimeout(a),s.unsubscribe()};function complete(e){i||(stop(),t(e))}return{stop:stop}}(function createPageActivityObservable(e,t){var n=new H((function(){var n,r=[],i=0;return r.push(t.subscribe((function(){return notifyPageActivity(i)})),e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(e){e.some((function(e){return"resource"===e.entryType}))&&notifyPageActivity(i)})),e.subscribe(V.REQUEST_STARTED,(function(e){void 0===n&&(n=e.requestIndex),notifyPageActivity(++i)})),e.subscribe(V.REQUEST_COMPLETED,(function(e){void 0===n||e.requestIndex<n||notifyPageActivity(--i)}))),function(){return r.forEach((function(e){return e.unsubscribe()}))}}));function notifyPageActivity(e){n.notify({isBusy:e>0})}return n}(e,t),n,r)}var pe="data-dd-action-name";function getActionNameFromElementProgrammatically(e,t){var n;if(function supportsElementClosest(){void 0===ve&&(ve="closest"in HTMLElement.prototype);return ve}())n=e.closest("["+t+"]");else for(var r=e;r;){if(r.hasAttribute(t)){n=r;break}r=r.parentElement}if(n)return truncate(normalizeWhitespace(n.getAttribute(t).trim()))}var he,ve,ge=[function(e,t){if(function supportsLabelProperty(){void 0===he&&(he="labels"in HTMLInputElement.prototype);return he}()){if("labels"in e&&e.labels&&e.labels.length>0)return getTextualContent(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&e.ownerDocument.querySelector('label[for="'+e.id.replace('"','\\"')+'"]');return n&&getTextualContent(n,t)}},function(e){if("INPUT"===e.nodeName){var t=e,n=t.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return t.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return getTextualContent(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var n=e.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map((function(t){return function getElementById(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}(e,t)})).filter((function(e){return Boolean(e)})).map((function(e){return getTextualContent(e,t)})).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return getTextualContent(e.options[0],t)}],me=[function(e,t){return getTextualContent(e,t)}];function getActionNameFromElementForStrategies(e,t,n){for(var r=e,i=0;i<=10&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0,a=n;o<a.length;o++){var s=(0,a[o])(r,t);if("string"==typeof s){var u=s.trim();if(u)return truncate(normalizeWhitespace(u))}}if("FORM"===r.nodeName)break;r=r.parentElement,i+=1}}function normalizeWhitespace(e){return e.replace(/\s+/g," ")}function truncate(e){return e.length>100?function safeTruncate(e,t){var n=e.charCodeAt(t-1);return n>=55296&&n<=56319?e.slice(0,t+1):e.slice(0,t)}(e,100)+" [...]":e}function getTextualContent(e,t){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,removeTextFromElements=function(t){for(var r=e.querySelectorAll(t),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var a=o.innerText;a&&a.trim().length>0&&(n=n.replace(a,""))}}};return function supportsInnerTextScriptAndStyleRemoval(){return!function isIE(){return Boolean(document.documentMode)}()}()||removeTextFromElements("script, style"),removeTextFromElements("[data-dd-action-name]"),t&&removeTextFromElements("["+t+"]"),n}return e.textContent}}function trackActions(e,t,n){var r=n.actionNameAttribute,i=function startActionManagement(e,t){var n,r;return{create:function(i,o,a){if(!n){var s=new _e(e,i,o,a);n=s,r=waitIdlePage(e,t,(function(e){if(e.hadActivity){var t=elapsed(s.startClocks.timeStamp,e.end);t>=0?s.complete(t):s.discard()}else s.discard();n=void 0}),1e4).stop}},discardCurrent:function(){n&&(r(),n.discard(),n=void 0)}}}(e,t);e.subscribe(V.VIEW_CREATED,(function(){i.discardCurrent()}));var o=addEventListener(window,"click",(function(e){if(e.target instanceof Element){var t=function getActionNameFromElement(e,t){return getActionNameFromElementProgrammatically(e,pe)||t&&getActionNameFromElementProgrammatically(e,t)||getActionNameFromElementForStrategies(e,t,ge)||getActionNameFromElementForStrategies(e,t,me)||""}(e.target,r);t&&i.create(z.CLICK,t,e)}}),{capture:!0}).stop;return{stop:function(){i.discardCurrent(),o()}}}var ye,be,_e=function(){function PendingAutoAction(e,t,n,r){this.lifeCycle=e,this.type=t,this.name=n,this.event=r,this.id=generateUUID(),this.startClocks=clocksNow(),this.eventCountsSubscription=trackEventCounts(e),this.lifeCycle.notify(V.AUTO_ACTION_CREATED,{id:this.id,startClocks:this.startClocks})}return PendingAutoAction.prototype.complete=function(e){var t=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify(V.AUTO_ACTION_COMPLETED,{counts:{errorCount:t.errorCount,longTaskCount:t.longTaskCount,resourceCount:t.resourceCount},duration:e,id:this.id,name:this.name,startClocks:this.startClocks,type:this.type,event:this.event}),this.eventCountsSubscription.stop()},PendingAutoAction.prototype.discard=function(){this.lifeCycle.notify(V.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()},PendingAutoAction}();function processAction(e,t){var n=isAutoAction(e)?{action:{error:{count:e.counts.errorCount},id:e.id,loading_time:toServerDuration(e.duration),long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}}}:void 0,r=isAutoAction(e)?void 0:e.context,i=combine({action:{id:generateUUID(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:P.ACTION},n),o=t.isInForegroundAt(e.startClocks.relative);return void 0!==o&&(i.view={in_foreground:o}),{customerContext:r,rawRumEvent:i,startTime:e.startClocks.relative,domainContext:isAutoAction(e)?{event:e.event}:{}}}function isAutoAction(e){return e.type!==z.CUSTOM}function trackConsoleError(e){(function startConsoleErrorProxy(){be||(be=new H,ye=console.error,console.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=createHandlingStack();callMonitored((function(){ye.apply(console,e);var t=__assign(__assign({},buildErrorFromParams(e,n)),{source:m,startClocks:clocksNow(),handling:h.HANDLED});be.notify(t)}))});return be})().subscribe((function(t){return e.notify(t)}))}function buildErrorFromParams(e,t){var n=find(e,(function(e){return e instanceof Error}));return{message:__spreadArrays(["console error:"],e).map((function(e){return function formatConsoleParameters(e){if("string"==typeof e)return e;if(e instanceof Error)return formatErrorMessage(computeStackTrace(e));return jsonStringify(e,void 0,2)}(e)})).join(" "),stack:n?toStackTraceString(computeStackTrace(n)):void 0,handlingStack:t}}var Ee,Se,we=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function startUnhandledErrorCollection(e){var t=function instrumentOnError(e){return instrumentMethodAndCallOriginal(window,"onerror",{before:function(t,n,r,i,o){var a;if(o)a=computeStackTrace(o),e(a,o);else{var s,u={url:n,column:i,line:r},c=t;if("[object String]"==={}.toString.call(t)){var l=we.exec(c);l&&(s=l[1],c=l[2])}e(a={name:s,message:"string"==typeof c?c:void 0,stack:[u]},t)}}})}(e).stop,n=function instrumentUnhandledRejection(e){return instrumentMethodAndCallOriginal(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",r=computeStackTrace(n);e(r,n)}})}(e).stop;return{stop:function(){t(),n()}}}function startErrorCollection(e,t){var n=new H;return trackConsoleError(n),function trackRuntimeError(e){return startUnhandledErrorCollection((function(t,n){var r=formatUnknownError(t,n,"Uncaught"),i=r.stack,o=r.message,a=r.type;e.notify({message:o,stack:i,type:a,source:b,startClocks:clocksNow(),originalError:n,handling:h.UNHANDLED})}))}(n),n.subscribe((function(t){return e.notify(V.RAW_ERROR_COLLECTED,{error:t})})),function doStartErrorCollection(e,t){return e.subscribe(V.RAW_ERROR_COLLECTED,(function(n){var r=n.error,i=n.customerContext,o=n.savedCommonContext;e.notify(V.RAW_RUM_EVENT_COLLECTED,tslib_es6_assign({customerContext:i,savedCommonContext:o},function processError(e,t){var n={date:e.startClocks.timeStamp,error:{id:generateUUID(),message:e.message,resource:e.resource?{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}:void 0,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,source_type:"browser"},type:P.ERROR},r=t.isInForegroundAt(e.startClocks.relative);void 0!==r&&(n.view={in_foreground:r});return{rawRumEvent:n,startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(r,t)))})),{addError:function(t,n){var r=t.error,i=t.handlingStack,o=t.startClocks,a=t.context,s=function computeRawError(e,t,n){var r=e instanceof Error?computeStackTrace(e):void 0;return tslib_es6_assign(tslib_es6_assign({startClocks:n,source:y,originalError:e},formatUnknownError(r,e,"Provided",t)),{handling:h.HANDLED})}(r,i,o);e.notify(V.RAW_ERROR_COLLECTED,{customerContext:a,savedCommonContext:n,error:s})}}}(e,t)}function matchRequestTiming(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=t.map((function(e){return e.toJSON()})).filter(toValidEntry).filter((function(t){return function isBetween(e,t,n){var r=1;return e.startTime>=t-r&&matchRequestTiming_endTime(e)<=n+r}(t,e.startClocks.relative,matchRequestTiming_endTime({startTime:e.startClocks.relative,duration:e.duration}))}));return 1===n.length?n[0]:2===n.length&&function firstCanBeOptionRequest(e){return matchRequestTiming_endTime(e[0])<=e[1].startTime}(n)?n[1]:void 0}}}function matchRequestTiming_endTime(e){return e.startTime+e.duration}function startResourceCollection(e){e.subscribe(V.REQUEST_COMPLETED,(function(t){e.notify(V.RAW_RUM_EVENT_COLLECTED,function processRequest(e){var t=e.type===d.XHR?l.XHR:l.FETCH,n=matchRequestTiming(e),r=n?relativeToClocks(n.startTime):e.startClocks,i=n?computePerformanceEntryMetrics(n):void 0,o=function computeRequestTracingInfo(e){if(!e.traceId||!e.spanId)return;return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString()}}}(e),a=combine({date:r.timeStamp,resource:{id:generateUUID(),type:t,duration:toServerDuration(e.duration),method:e.method,status_code:e.status,url:e.url},type:P.RESOURCE},o,i);return{startTime:r.relative,rawRumEvent:a,domainContext:{performanceEntry:n&&toPerformanceEntryRepresentation(n),xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error}}}(t))})),e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];"resource"!==i.entryType||isRequestKind(i)||e.notify(V.RAW_RUM_EVENT_COLLECTED,processResourceEntry(i))}}))}function processResourceEntry(e){var t=computeResourceKind(e),n=computePerformanceEntryMetrics(e),r=function computeEntryTracingInfo(e){return e.traceId?{_dd:{trace_id:e.traceId}}:void 0}(e),i=relativeToClocks(e.startTime),o=combine({date:i.timeStamp,resource:{id:generateUUID(),type:t,url:e.name},type:P.RESOURCE},r,n);return{startTime:i.relative,rawRumEvent:o,domainContext:{performanceEntry:toPerformanceEntryRepresentation(e)}}}function computePerformanceEntryMetrics(e){return{resource:tslib_es6_assign({duration:computePerformanceResourceDuration(e),size:computeSize(e)},computePerformanceResourceDetails(e))}}function toPerformanceEntryRepresentation(e){return function supportPerformanceEntry(){return"function"==typeof PerformanceEntry}()&&e instanceof PerformanceEntry&&e.toJSON(),e}function trackFirstHidden(e){return void 0===e&&(e=window),Ee||("hidden"===document.visibilityState?Ee={timeStamp:0}:(Ee={timeStamp:1/0},Se=addEventListeners(e,["pagehide","visibilitychange"],(function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||(Ee.timeStamp=e.timeStamp,Se())}),{capture:!0}).stop)),Ee}var Ce=6e5;function trackInitialViewTimings(e,t){var n;function setTimings(e){n=tslib_es6_assign(tslib_es6_assign({},n),e),t(n)}var r=function trackNavigationTimings(e,t){return{stop:e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];"navigation"===i.entryType&&t({domComplete:i.domComplete,domContentLoaded:i.domContentLoadedEventEnd,domInteractive:i.domInteractive,loadEvent:i.loadEventEnd})}})).unsubscribe}}(e,setTimings).stop,i=function trackFirstContentfulPaintTiming(e,t){var n=trackFirstHidden();return{stop:e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(e){var r=find(e,(function(e){return"paint"===e.entryType&&"first-contentful-paint"===e.name&&e.startTime<n.timeStamp&&e.startTime<Ce}));r&&t(r.startTime)})).unsubscribe}}(e,(function(e){return setTimings({firstContentfulPaint:e})})).stop,o=function trackLargestContentfulPaintTiming(e,t,n){var r=trackFirstHidden(),i=1/0,o=addEventListeners(t,["pointerdown","keydown"],(function(e){i=e.timeStamp}),{capture:!0,once:!0}).stop,a=e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(e){var t=function findLast(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(e,(function(e){return"largest-contentful-paint"===e.entryType&&e.startTime<i&&e.startTime<r.timeStamp&&e.startTime<Ce}));t&&n(t.startTime)})).unsubscribe;return{stop:function(){o(),a()}}}(e,window,(function(e){setTimings({largestContentfulPaint:e})})).stop,a=function trackFirstInputTimings(e,t){var n=trackFirstHidden();return{stop:e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(e){var r=find(e,(function(e){return"first-input"===e.entryType&&e.startTime<n.timeStamp}));if(r){var i=elapsed(r.startTime,r.processingStart);t({firstInputDelay:i>=0?i:0,firstInputTime:r.startTime})}})).unsubscribe}}(e,(function(e){setTimings({firstInputDelay:e.firstInputDelay,firstInputTime:e.firstInputTime})})).stop;return{stop:function(){r(),i(),o(),a()}}}function trackViewMetrics(e,t,n,r,i){var o,a={eventCounts:{errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0}},s=trackEventCounts(e,(function(e){a.eventCounts=e,n()})).stop,u=function trackLoadingTime(e,t,n,r,i){var o=n===B.INITIAL_LOAD,a=!0,s=[];function invokeCallbackIfAllCandidatesAreReceived(){!a&&!o&&s.length>0&&i(Math.max.apply(Math,s))}return{stop:waitIdlePage(e,t,(function(e){a&&(a=!1,e.hadActivity&&s.push(elapsed(r.timeStamp,e.end)),invokeCallbackIfAllCandidatesAreReceived())})).stop,setLoadEvent:function(e){o&&(o=!1,s.push(e),invokeCallbackIfAllCandidatesAreReceived())}}}(e,t,r,i,(function(e){a.loadingTime=e,n()})),c=u.stop,l=u.setLoadEvent;return!function isLayoutShiftSupported(){return supportPerformanceTimingEvent("layout-shift")}()?o=noop:(a.cumulativeLayoutShift=0,o=function trackCumulativeLayoutShift(e,t){var n=0,r=function slidingSessionWindow(){var e,t,n=0;return{update:function(r){void 0===e||r.startTime-t>=f||r.startTime-e>=5e3?(e=t=r.startTime,n=r.value):(n+=r.value,t=r.startTime)},value:function(){return n}}}();return{stop:e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(e){for(var i=0,o=e;i<o.length;i++){var a=o[i];"layout-shift"!==a.entryType||a.hadRecentInput||(r.update(a),r.value()>n&&(n=r.value(),t(round(n,4))))}})).unsubscribe}}(e,(function(e){a.cumulativeLayoutShift=e,n()})).stop),{stop:function(){s(),c(),o()},setLoadEvent:l,viewMetrics:a}}function trackViews(e,t,n,r,i,o){var a,s=function trackInitialView(r){var i=newView(t,n,e,B.INITIAL_LOAD,clocksOrigin(),r),o=trackInitialViewTimings(t,(function(e){i.updateTimings(e),i.scheduleUpdate()})).stop;return{initialView:i,stop:o}}(o),u=s.stop,c=s.initialView,l=function startViewLifeCycle(){t.subscribe(V.SESSION_RENEWED,(function(){c.end(),c=trackViewChange(void 0,c.name)})),t.subscribe(V.BEFORE_UNLOAD,(function(){c.end(),c.triggerUpdate()}));var e=window.setInterval(monitor((function(){c.triggerUpdate()})),3e5);return{stop:function(){clearInterval(e)}}}().stop;function trackViewChange(r,i){return newView(t,n,e,B.ROUTE_CHANGE,r,i)}return i&&(a=function renewViewOnLocationChange(e){return e.subscribe((function(e){if(function areDifferentLocation(e,t){return e.pathname!==t.pathname||!function isHashAnAnchor(e){var t=e.substr(1);return!!document.getElementById(t)}(t.hash)&&getPathFromHash(t.hash)!==getPathFromHash(e.hash)}(e.oldLocation,e.newLocation))return c.end(),c.triggerUpdate(),void(c=trackViewChange())}))}(r)),{addTiming:function(e,t){void 0===t&&(t=timeStampNow()),c.addTiming(e,t),c.triggerUpdate()},startView:function(e,t){c.end(t),c.triggerUpdate(),c=trackViewChange(t,e)},stop:function(){null==a||a.unsubscribe(),u(),l(),c.end()}}}function newView(e,t,n,i,o,a){void 0===o&&(o=clocksNow());var s,u=generateUUID(),c={},l={},d=0,f=tslib_es6_assign({},n);e.notify(V.VIEW_CREATED,{id:u,name:a,startClocks:o});var p=throttle(monitor(triggerViewUpdate),3e3,{leading:!1}),h=p.throttled,v=p.cancel,g=trackViewMetrics(e,t,h,i,o),m=g.setLoadEvent,y=g.stop,b=g.viewMetrics;function triggerViewUpdate(){d+=1;var t=void 0===s?timeStampNow():s.timeStamp;e.notify(V.VIEW_UPDATED,tslib_es6_assign(tslib_es6_assign({},b),{customTimings:l,documentVersion:d,id:u,name:a,loadingType:i,location:f,startClocks:o,timings:c,duration:elapsed(o.timeStamp,t),isActive:void 0===s}))}return triggerViewUpdate(),{name:a,scheduleUpdate:h,end:function(t){void 0===t&&(t=clocksNow()),s=t,y(),e.notify(V.VIEW_ENDED,{endClocks:s})},triggerUpdate:function(){v(),triggerViewUpdate()},updateTimings:function(e){c=e,void 0!==e.loadEvent&&m(e.loadEvent)},addTiming:function(e,t){var n=function looksLikeRelativeTime(e){return e<31536e6}(t)?t:elapsed(o.timeStamp,t);l[function sanitizeTiming(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&r.warn("Invalid timing name: "+e+", sanitized to: "+t);return t}(e)]=n}}}function getPathFromHash(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function startViewCollection(e,t,n,r,i,o,a,s){return e.subscribe(V.VIEW_UPDATED,(function(t){return e.notify(V.RAW_RUM_EVENT_COLLECTED,function processViewUpdate(e,t,n){var r=n.getReplayStats(e.id),i={_dd:{document_version:e.documentVersion,replay_stats:r},date:e.startClocks.timeStamp,type:P.VIEW,view:{action:{count:e.eventCounts.userActionCount},cumulative_layout_shift:e.cumulativeLayoutShift,dom_complete:toServerDuration(e.timings.domComplete),dom_content_loaded:toServerDuration(e.timings.domContentLoaded),dom_interactive:toServerDuration(e.timings.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:toServerDuration(e.timings.firstContentfulPaint),first_input_delay:toServerDuration(e.timings.firstInputDelay),first_input_time:toServerDuration(e.timings.firstInputTime),is_active:e.isActive,name:e.name,largest_contentful_paint:toServerDuration(e.timings.largestContentfulPaint),load_event:toServerDuration(e.timings.loadEvent),loading_time:discardNegativeDuration(toServerDuration(e.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:toServerDuration(e.duration),in_foreground_periods:t.selectInForegroundPeriodsFor(e.startClocks.relative,e.duration)},session:{has_replay:!!r||void 0}};isEmptyObject(e.customTimings)||(i.view.custom_timings=function mapValues(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n[o]=t(e[o])}return n}(e.customTimings,toServerDuration));return{rawRumEvent:i,startTime:e.startClocks.relative,domainContext:{location:e.location}}}(t,o,a))})),trackViews(n,e,r,i,!t.trackViewsManually,s)}function discardNegativeDuration(e){return isNumber(e)&&e<0?void 0:e}function startRumBatch(e,t){var n=function makeRumBatch(e,t){var n,r=createRumBatch(e.rumEndpointBuilder,(function(){return t.notify(V.BEFORE_UNLOAD)})),i=e.replica;void 0!==i&&(n=createRumBatch(i.rumEndpointBuilder));function createRumBatch(t,n){return new S(new C(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,n)}function withReplicaApplicationId(e){return combine(e,{application:{id:i.applicationId}})}var o=!1;return{add:function(e){o||(r.add(e),n&&n.add(withReplicaApplicationId(e)))},stop:function(){o=!0},upsert:function(e,t){o||(r.upsert(e,t),n&&n.upsert(withReplicaApplicationId(e),t))}}}(e,t);return t.subscribe(V.RUM_EVENT_COLLECTED,(function(e){e.type===P.VIEW?n.upsert(e,e.view.id):n.add(e)})),{stop:function(){return n.stop()}}}function createLocationChangeObservable(e){var t=tslib_es6_assign({},e),n=new H((function(){var e=function trackHistory(e){var t=instrumentMethodAndCallOriginal(history,"pushState",{after:e}).stop,n=instrumentMethodAndCallOriginal(history,"replaceState",{after:e}).stop,r=addEventListener(window,"popstate",e).stop;return{stop:function(){t(),n(),r()}}}(onLocationChange).stop,t=function trackHash(e){return addEventListener(window,"hashchange",e)}(onLocationChange).stop;return function(){e(),t()}}));function onLocationChange(){if(t.href!==e.href){var r=tslib_es6_assign({},e);n.notify({newLocation:r,oldLocation:t}),t=r}}return n}var tslib_tslib_es6_assign=function(){return(tslib_tslib_es6_assign=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var Te=2,ke=3,Re=4,Oe=6,xe=7,Ae=8,Le=tslib_tslib_es6_assign(tslib_tslib_es6_assign({},j),{IGNORE:"ignore",HIDDEN:"hidden"}),Ie="data-dd-privacy",Ne="hidden",De="***",Me={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function getNodePrivacyLevel(e,t){var n=e.parentNode?getNodePrivacyLevel(e.parentNode,t):t;return reducePrivacyLevel(getNodeSelfPrivacyLevel(e),n)}function reducePrivacyLevel(e,t){switch(t){case Le.HIDDEN:case Le.IGNORE:return t}switch(e){case Le.ALLOW:case Le.MASK:case Le.MASK_USER_INPUT:case Le.HIDDEN:case Le.IGNORE:return e;default:return t}}function getNodeSelfPrivacyLevel(e){if(function isElement(e){return e.nodeType===e.ELEMENT_NODE}(e)){var t=e.getAttribute(Ie);if("BASE"===e.tagName)return Le.ALLOW;if("INPUT"===e.tagName){var n=e;if("password"===n.type||"email"===n.type||"tel"===n.type)return Le.MASK;if("hidden"===n.type)return Le.MASK;var r=n.getAttribute("autocomplete");if(r&&0===r.indexOf("cc-"))return Le.MASK}return t===Ne||e.classList.contains("dd-privacy-hidden")?Le.HIDDEN:"mask"===t||e.classList.contains("dd-privacy-mask")?Le.MASK:"mask-user-input"===t||e.classList.contains("dd-privacy-mask-user-input")?Le.MASK_USER_INPUT:"allow"===t||e.classList.contains("dd-privacy-allow")?Le.ALLOW:function shouldIgnoreElement(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){return"preload"===(n=getLowerCaseAttribute("rel"))&&"script"===getLowerCaseAttribute("as")||"shortcut icon"===n||"icon"===n}if("META"===e.nodeName){var t=getLowerCaseAttribute("name"),n=getLowerCaseAttribute("rel"),r=getLowerCaseAttribute("property");return/^msapplication-tile(image|color)$/.test(t)||"application-name"===t||"icon"===n||"apple-touch-icon"===n||"shortcut icon"===n||"keywords"===t||"description"===t||/^(og|twitter|fb):/.test(r)||/^(og|twitter):/.test(t)||"pinterest"===t||"robots"===t||"googlebot"===t||"bingbot"===t||e.hasAttribute("http-equiv")||"author"===t||"generator"===t||"framework"===t||"publisher"===t||"progid"===t||/^article:/.test(r)||/^product:/.test(r)||"google-site-verification"===t||"yandex-verification"===t||"csrf-token"===t||"p:domain_verify"===t||"verify-v1"===t||"verification"===t||"shopify-checkout-api-token"===t}function getLowerCaseAttribute(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e)?Le.IGNORE:void 0}}function shouldMaskNode(e,t){switch(t){case Le.MASK:case Le.HIDDEN:case Le.IGNORE:return!0;case Le.MASK_USER_INPUT:return function privacy_isTextNode(e){return e.nodeType===e.TEXT_NODE}(e)?isFormElement(e.parentNode):isFormElement(e);default:return!1}}function isFormElement(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;var t=e;if("INPUT"===t.tagName)switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!Me[t.tagName]}var Ue;function getTextContent(e,t,n){var r,i=null===(r=e.parentElement)||void 0===r?void 0:r.tagName,o=e.textContent||"";if(!t||o.trim()){var a=n,s="STYLE"===i||void 0;if("SCRIPT"===i)o=De;else if(a===Le.HIDDEN)o=De;else if(shouldMaskNode(e,a)&&!s)if("DATALIST"===i||"SELECT"===i||"OPTGROUP"===i){if(!o.trim())return}else o="OPTION"===i?De:function(e){return e.replace(/\S/g,"x")}(o);return o}}!function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule"}(Ue||(Ue={}));var Pe,Be=0,ze=1,je=2,Fe=3,Ve=4,He=5,We=6,qe=7,Ge=9,Xe=0,Ze=1;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Pe||(Pe={}));var Ye=new WeakMap;function hasSerializedNode(e){return Ye.has(e)}function getSerializedNodeId(e){return Ye.get(e)}function getElementInputValue(e,t){var n=e.tagName,r=e.value;if(shouldMaskNode(e,t)){var i=e.type;if("INPUT"===n&&("button"===i||"submit"===i||"reset"===i))return r;if(!r||"OPTION"===n)return;return De}return"OPTION"===n||"SELECT"===n?e.value:"INPUT"===n||"TEXTAREA"===n?r:void 0}function isTouchEvent(e){return Boolean(e.changedTouches)}function forEach(e,t){Array.prototype.forEach.call(e,t)}function serializeDocument(e,t){return serializeNodeWithId(e,{document:e,parentNodePrivacyLevel:t})}function serializeNodeWithId(e,t){var n=function serializeNode(e,t){switch(e.nodeType){case e.DOCUMENT_NODE:return function serializeDocumentNode(e,t){return{type:Pe.Document,childNodes:serializeChildNodes(e,t)}}(e,t);case e.DOCUMENT_TYPE_NODE:return function serializeDocumentTypeNode(e){return{type:Pe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId}}(e);case e.ELEMENT_NODE:return function serializeElementNode(e,t){var n,r=getValidTagName(e.tagName),i=function isSVGElement(e){return"svg"===e.tagName||e instanceof SVGElement}(e)||void 0,o=reducePrivacyLevel(getNodeSelfPrivacyLevel(e),t.parentNodePrivacyLevel);if(o===Le.HIDDEN){var a=e.getBoundingClientRect(),s=a.width,u=a.height;return{type:Pe.Element,tagName:r,attributes:(n={rr_width:s+"px",rr_height:u+"px"},n[Ie]=Ne,n),childNodes:[],isSVG:i}}if(o===Le.IGNORE)return;var c=function getAttributesForPrivacyLevel(e,t){if(t===Le.HIDDEN)return{};for(var n={},r=getValidTagName(e.tagName),i=e.ownerDocument,o=0;o<e.attributes.length;o+=1){var a=e.attributes.item(o).name,s=serializeAttribute(e,t,a);null!==s&&(n[a]=s)}if(e.value&&("textarea"===r||"select"===r||"option"===r||"input"===r)){var u=getElementInputValue(e,t);void 0!==u&&(n.value=u)}if("option"===r&&t===Le.ALLOW){var c=e;c.selected&&(n.selected=c.selected)}if("link"===r){var l=Array.from(i.styleSheets).find((function(t){return t.href===e.href}));(d=getCssRulesString(l))&&l&&(delete n.rel,delete n.href,n._cssText=d)}if("style"===r&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var d;(d=getCssRulesString(e.sheet))&&(n._cssText=d)}var f=e;"input"!==r||"radio"!==f.type&&"checkbox"!==f.type||(t===Le.ALLOW?n.checked=!!f.checked:shouldMaskNode(f,t)&&(n.checked=De));if("audio"===r||"video"===r){var p=e;n.rr_mediaState=p.paused?"paused":"played"}e.scrollLeft&&(n.rr_scrollLeft=Math.round(e.scrollLeft));e.scrollTop&&(n.rr_scrollTop=Math.round(e.scrollTop));return n}(e,o),l=[];if(e.childNodes.length){l=serializeChildNodes(e,t.parentNodePrivacyLevel===o&&t.ignoreWhiteSpace===("head"===r)?t:tslib_tslib_es6_assign(tslib_tslib_es6_assign({},t),{parentNodePrivacyLevel:o,ignoreWhiteSpace:"head"===r}))}return{type:Pe.Element,tagName:r,attributes:c,childNodes:l,isSVG:i}}(e,t);case e.TEXT_NODE:return function serializeTextNode(e,t){var n,r=null===(n=e.parentElement)||void 0===n?void 0:n.tagName,i=getTextContent(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(!i)return;return{type:Pe.Text,textContent:i,isStyle:"STYLE"===r||void 0}}(e,t);case e.CDATA_SECTION_NODE:return function serializeCDataNode(){return{type:Pe.CDATA,textContent:""}}()}}(e,t);if(!n)return null;var r=getSerializedNodeId(e)||function generateNextId(){return Ke++}(),i=n;return i.id=r,function setSerializedNodeId(e,t){Ye.set(e,t)}(e,r),t.serializedNodeIds&&t.serializedNodeIds.add(r),i}function serializeChildNodes(e,t){var n=[];return forEach(e.childNodes,(function(e){var r=serializeNodeWithId(e,t);r&&n.push(r)})),n}function serializeAttribute(e,t,n){if(t===Le.HIDDEN)return null;var r=e.getAttribute(n);if(t===Le.MASK){var i=e.tagName;switch(n){case"title":case"alt":return De}if(!("IMG"!==i&&"SOURCE"!==i||"src"!==n&&"srcset"!==n))return"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==";if("A"===i&&"href"===n)return De;if(r&&0===n.indexOf("data-")&&n!==Ie)return De}return r&&"string"==typeof r&&r.length>1e5&&"data:"===r.slice(0,5)?"data:truncated":r}var Ke=1;var Je=/[^a-z1-6-_]/;function getValidTagName(e){var t=e.toLowerCase().trim();return Je.test(t)?"div":t}function getCssRulesString(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(getCssRuleString).join(""):null}catch(e){return null}}function getCssRuleString(e){return function isCSSImportRule(e){return"styleSheet"in e}(e)?getCssRulesString(e.styleSheet)||"":e.cssText}function createMutationBatch(e){var t=noop,n=[];function flush(){t(),e(n),n=[]}return{addMutations:function(e){0===n.length&&(t=function scheduleMutationFlush(e){var t=window;if(t.requestIdleCallback){var n=t.requestIdleCallback(monitor(e),{timeout:100});return function(){return t.cancelIdleCallback(n)}}var r=t.requestAnimationFrame(monitor(e));return function(){return t.cancelAnimationFrame(r)}}(flush)),n.push.apply(n,e)},flush:flush,stop:function(){t()}}}function startMutationObserver(e,t,n){var r=getMutationObserverConstructor();if(!r)return{stop:noop};var i=createMutationBatch((function(e){!function processMutations(e,t,n){var r=e.filter((function(e){return document.contains(e.target)&&function nodeAndAncestorsHaveSerializedNode(e){for(var t=e;t;){if(!hasSerializedNode(t))return!1;t=t.parentNode}return!0}(e.target)&&getNodePrivacyLevel(e.target,n)!==Le.HIDDEN})),i=function processChildListMutations(e,t){for(var n=new Set,r=new Map,_loop_1=function(e){forEach(e.addedNodes,(function(e){n.add(e)})),forEach(e.removedNodes,(function(t){n.has(t)||r.set(t,e.target),n.delete(t)}))},i=0,o=e;i<o.length;i++){_loop_1(o[i])}var a=Array.from(n);!function sortAddedAndMovedNodes(e){e.sort((function(e,t){var n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0}))}(a);for(var s=new Set,u=[],c=0,l=a;c<l.length;c++){var d=l[c];if(!hasBeenSerialized(d)){var f=getNodePrivacyLevel(d.parentNode,t);if(f!==Le.HIDDEN&&f!==Le.IGNORE){var p=serializeNodeWithId(d,{document:document,serializedNodeIds:s,parentNodePrivacyLevel:f});p&&u.push({nextId:getNextSibling(d),parentId:getSerializedNodeId(d.parentNode),node:p})}}}var h=[];return r.forEach((function(e,t){hasSerializedNode(t)&&h.push({parentId:getSerializedNodeId(e),id:getSerializedNodeId(t)})})),{adds:u,removes:h,hasBeenSerialized:hasBeenSerialized};function hasBeenSerialized(e){return hasSerializedNode(e)&&s.has(getSerializedNodeId(e))}function getNextSibling(e){for(var t=e.nextSibling;t;){if(hasSerializedNode(t))return getSerializedNodeId(t);t=t.nextSibling}return null}}(r.filter((function(e){return"childList"===e.type})),n),o=i.adds,a=i.removes,s=i.hasBeenSerialized,u=function processCharacterDataMutations(e,t){for(var n,r=[],i=new Set,o=e.filter((function(e){return!i.has(e.target)&&(i.add(e.target),!0)})),a=0,s=o;a<s.length;a++){var u=s[a];if(u.target.textContent!==u.oldValue){var c=getNodePrivacyLevel(u.target.parentNode,t);c!==Le.HIDDEN&&c!==Le.IGNORE&&r.push({id:getSerializedNodeId(u.target),value:null!==(n=getTextContent(u.target,!1,c))&&void 0!==n?n:null})}}return r}(r.filter((function(e){return"characterData"===e.type&&!s(e.target)})),n),c=function processAttributesMutations(e,t){for(var n=[],r=new Map,i=e.filter((function(e){var t=r.get(e.target);return!(null==t?void 0:t.has(e.attributeName))&&(t?t.add(e.attributeName):r.set(e.target,new Set([e.attributeName])),!0)})),o=new Map,a=0,s=i;a<s.length;a++){var u=s[a];if(u.target.getAttribute(u.attributeName)!==u.oldValue){var c=getNodePrivacyLevel(u.target,t),l=serializeAttribute(u.target,c,u.attributeName),d=void 0;if("value"===u.attributeName){var f=getElementInputValue(u.target,c);if(void 0===f)continue;d=f}else d=l&&"string"==typeof l?l:null;var p=o.get(u.target);p||(p={id:getSerializedNodeId(u.target),attributes:{}},n.push(p),o.set(u.target,p)),p.attributes[u.attributeName]=d}}return n}(r.filter((function(e){return"attributes"===e.type&&!s(e.target)})),n);if(!(u.length||c.length||a.length||o.length))return;t({adds:o,removes:a,texts:u,attributes:c})}(e.concat(o.takeRecords()),t,n)})),o=new r(monitor(i.addMutations));return o.observe(document,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),e.onFlush(i.flush),{stop:function(){o.disconnect(),i.stop()}}}var $e=function(){function MutationController(){}return MutationController.prototype.flush=function(){var e;null===(e=this.flushListener)||void 0===e||e.call(this)},MutationController.prototype.onFlush=function(e){this.flushListener=e},MutationController}();var Qe,convertMouseEventToLayoutCoordinates=function(e,t){var n=window.visualViewport,r={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};return n?(!function isVisualViewportFactoredIn(){var e=window.visualViewport;return Math.abs(e.pageTop-e.offsetTop-window.scrollY)>25||Math.abs(e.pageLeft-e.offsetLeft-window.scrollX)>25}()?(r.visualViewportX=Math.round(e-n.offsetLeft),r.visualViewportY=Math.round(t-n.offsetTop)):(r.layoutViewportX=Math.round(e+n.offsetLeft),r.layoutViewportY=Math.round(t+n.offsetTop)),r):r},getVisualViewport=function(){var e=window.visualViewport;return{scale:e.scale,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,pageLeft:e.pageLeft,pageTop:e.pageTop,height:e.height,width:e.width}};function getWindowWidth(){var e=window.visualViewport;return e?e.width*e.scale:window.innerWidth||0}function getWindowHeight(){var e=window.visualViewport;return e?e.height*e.scale:window.innerHeight||0}function getScrollX(){var e=window.visualViewport;return e?e.pageLeft-e.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0}function getScrollY(){var e=window.visualViewport;return e?e.pageTop-e.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0}function initObservers(e){var t=function initMutationObserver(e,t,n){return startMutationObserver(e,t,n).stop}(e.mutationController,e.mutationCb,e.defaultPrivacyLevel),n=function initMoveObserver(e){var t=throttle(monitor((function(t){var n=t.target;if(hasSerializedNode(n)){var r=isTouchEvent(t)?t.changedTouches[0]:t,i=r.clientX,o=r.clientY,a={id:getSerializedNodeId(n),timeOffset:0,x:i,y:o};if(window.visualViewport){var s=convertMouseEventToLayoutCoordinates(i,o),u=s.visualViewportX,c=s.visualViewportY;a.x=u,a.y=c}e([a],isTouchEvent(t)?Ue.TouchMove:Ue.MouseMove)}})),50,{trailing:!1}).throttled;return addEventListeners(document,["mousemove","touchmove"],t,{capture:!0,passive:!0}).stop}(e.mousemoveCb),r=function initMouseInteractionObserver(e,t){var handler=function(n){var r=n.target;if(getNodePrivacyLevel(r,t)!==Le.HIDDEN&&hasSerializedNode(r)){var i=isTouchEvent(n)?n.changedTouches[0]:n,o=i.clientX,a=i.clientY,s={id:getSerializedNodeId(r),type:et[n.type],x:o,y:a};if(window.visualViewport){var u=convertMouseEventToLayoutCoordinates(o,a),c=u.visualViewportX,l=u.visualViewportY;s.x=c,s.y=l}e(s)}};return addEventListeners(document,Object.keys(et),handler,{capture:!0,passive:!0}).stop}(e.mouseInteractionCb,e.defaultPrivacyLevel),i=function initScrollObserver(e,t){var n=throttle(monitor((function(n){var r=n.target;if(r&&getNodePrivacyLevel(r,t)!==Le.HIDDEN&&hasSerializedNode(r)){var i=getSerializedNodeId(r);r===document?e({id:i,x:getScrollX(),y:getScrollY()}):e({id:i,x:r.scrollLeft,y:r.scrollTop})}})),100).throttled;return addEventListener(document,"scroll",n,{capture:!0,passive:!0}).stop}(e.scrollCb,e.defaultPrivacyLevel),o=function initViewportResizeObserver(e){var t=throttle(monitor((function(){var t=getWindowHeight(),n=getWindowWidth();e({height:Number(t),width:Number(n)})})),200).throttled;return addEventListener(window,"resize",t,{capture:!0,passive:!0}).stop}(e.viewportResizeCb),a=function initInputObserver(e,t){function eventHandler(e){var n=e.target,r=getNodePrivacyLevel(n,t);if(n&&n.tagName&&includes(tt,n.tagName)&&r!==Le.HIDDEN){var i,o=n.type;if("radio"===o||"checkbox"===o){if(shouldMaskNode(n,r))return;i={isChecked:n.checked}}else{var a=getElementInputValue(n,r);if(void 0===a)return;i={text:a}}cbWithDedup(n,i);var s=n.name;"radio"===o&&s&&n.checked&&forEach(document.querySelectorAll('input[type="radio"][name="'+s+'"]'),(function(e){e!==n&&cbWithDedup(e,{isChecked:!1})}))}}function cbWithDedup(t,n){if(hasSerializedNode(t)){var r=nt.get(t);r&&r.text===n.text&&r.isChecked===n.isChecked||(nt.set(t,n),e(tslib_tslib_es6_assign(tslib_tslib_es6_assign({},n),{id:getSerializedNodeId(t)})))}}var n=addEventListeners(document,["input","change"],eventHandler,{capture:!0,passive:!0}).stop,r=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),i=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]],o=[];r&&r.set&&o.push.apply(o,i.map((function(e){return function hookSetter(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);return Object.defineProperty(e,t,{set:function(e){var t=this;setTimeout((function(){n.set.call(t,e)}),0),r&&r.set&&r.set.call(this,e)}}),function(){Object.defineProperty(e,t,r||{})}}(e[0],e[1],{set:monitor((function(){eventHandler({target:this})}))})})));return function(){o.forEach((function(e){return e()})),n()}}(e.inputCb,e.defaultPrivacyLevel),s=function initMediaInteractionObserver(e,t){return addEventListeners(document,["play","pause"],(function(n){var r=n.target;r&&getNodePrivacyLevel(r,t)!==Le.HIDDEN&&hasSerializedNode(r)&&e({id:getSerializedNodeId(r),type:"play"===n.type?Xe:Ze})}),{capture:!0,passive:!0}).stop}(e.mediaInteractionCb,e.defaultPrivacyLevel),u=function initStyleSheetObserver(e){var t=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(n,r){var i=this;return callMonitored((function(){hasSerializedNode(i.ownerNode)&&e({id:getSerializedNodeId(i.ownerNode),adds:[{rule:n,index:r}]})})),t.call(this,n,r)};var n=CSSStyleSheet.prototype.deleteRule;return CSSStyleSheet.prototype.deleteRule=function(t){var r=this;return callMonitored((function(){hasSerializedNode(r.ownerNode)&&e({id:getSerializedNodeId(r.ownerNode),removes:[{index:t}]})})),n.call(this,t)},function(){CSSStyleSheet.prototype.insertRule=t,CSSStyleSheet.prototype.deleteRule=n}}(e.styleSheetRuleCb),c=function initFocusObserver(e){return addEventListeners(window,["focus","blur"],(function(){e({has_focus:document.hasFocus()})})).stop}(e.focusCb),l=function initVisualViewportResizeObserver(e){if(!window.visualViewport)return noop;var t=throttle(monitor((function(){e(getVisualViewport())})),200,{trailing:!1}),n=t.throttled,r=t.cancel,i=addEventListeners(window.visualViewport,["resize","scroll"],n,{capture:!0,passive:!0}).stop;return function stop(){i(),r()}}(e.visualViewportResizeCb);return function(){t(),n(),r(),i(),o(),a(),s(),u(),c(),l()}}var et=((Qe={}).mouseup=Be,Qe.mousedown=ze,Qe.click=je,Qe.contextmenu=Fe,Qe.dblclick=Ve,Qe.focus=He,Qe.blur=We,Qe.touchstart=qe,Qe.touchend=Ge,Qe);var tt=["INPUT","TEXTAREA","SELECT"],nt=new WeakMap;var rt=6e4;function send_send(e,t,n,r,i){var o=new FormData;o.append("segment",new Blob([t],{type:"application/octet-stream"}),n.session.id+"-"+n.start),toFormEntries(n,(function(e,t){return o.append(e,t)})),o.append("raw_segment_size",r.toString()),new C(e,rt).send(o,t.byteLength,i)}function toFormEntries(e,t,n){void 0===n&&(n=""),objectEntries(e).forEach((function(e){var r=e[0],i=e[1];"object"==typeof i&&null!==i?toFormEntries(i,t,""+n+r+"."):t(""+n+r,String(i))}))}var it;function replayStats_addRecord(e){getOrCreateReplayStats(e).records_count+=1}function getReplayStats(e){return null==it?void 0:it.get(e)}function getOrCreateReplayStats(e){var t;return it||(it=new Map),it.has(e)?t=it.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},it.set(e,t),it.size>10&&function deleteOldestStats(){if(!it)return;if(it.keys)it.delete(it.keys().next().value);else{var e=!0;it.forEach((function(t,n){e&&(it.delete(n),e=!1)}))}}()),t}var ot,at=0,st=function(){function Segment(e,t,n,r,i,o){var a=this;this.worker=e,this.context=t,this.creationReason=n,this.isFlushed=!1,this.id=at++,this.start=r.timestamp,this.end=r.timestamp,this.recordsCount=1,this.hasFullSnapshot=r.type===Te;var s=this.context.view.id;!function addSegment(e){getOrCreateReplayStats(e).segments_count+=1}(s),replayStats_addRecord(s);var u=monitor((function(t){var n=t.data;"errored"!==n.type&&"initialized"!==n.type&&(n.id===a.id?(!function addWroteData(e,t){getOrCreateReplayStats(e).segments_total_raw_size+=t}(s,n.additionalRawSize),"flushed"===n.type?(o(n.result,n.rawSize),e.removeEventListener("message",u)):i(n.compressedSize)):n.id>a.id&&(e.removeEventListener("message",u),addMonitoringMessage("Segment did not receive a 'flush' response before being replaced.")))}));e.addEventListener("message",u),this.worker.postMessage({data:'{"records":['+JSON.stringify(r),id:this.id,action:"write"})}return Segment.prototype.addRecord=function(e){this.end=e.timestamp,this.recordsCount+=1,replayStats_addRecord(this.context.view.id),this.hasFullSnapshot||(this.hasFullSnapshot=e.type===Te),this.worker.postMessage({data:","+JSON.stringify(e),id:this.id,action:"write"})},Segment.prototype.flush=function(e){this.worker.postMessage({data:"],"+JSON.stringify(this.meta).slice(1)+"\n",id:this.id,action:"flush"}),this.isFlushed=!0,this.flushReason=e},Object.defineProperty(Segment.prototype,"meta",{get:function(){return tslib_tslib_es6_assign({creation_reason:this.creationReason,end:this.end,has_full_snapshot:this.hasFullSnapshot,records_count:this.recordsCount,start:this.start},this.context)},enumerable:!1,configurable:!0}),Segment}(),ut=rt;function startSegmentCollection(e,t,n,r,i,o){return function doStartSegmentCollection(e,t,n,r,i){void 0===i&&(i=window);var o={status:0,nextSegmentCreationReason:"init"},a=e.subscribe(V.VIEW_CREATED,(function(){flushSegment("view_change")})).unsubscribe,s=e.subscribe(V.BEFORE_UNLOAD,(function(){flushSegment("before_unload")})).unsubscribe,u=addEventListener(i,"visibilitychange",(function(){"hidden"===document.visibilityState&&flushSegment("visibility_hidden")}),{capture:!0}).stop;function flushSegment(e){1===o.status&&(o.segment.flush(e||"sdk_stopped"),clearTimeout(o.expirationTimeoutId)),o=e?{status:0,nextSegmentCreationReason:e}:{status:2}}function createNewSegment(e,i){var a=t();if(a){var s=new st(r,a,e,i,(function(e){!s.isFlushed&&e>ut&&flushSegment("max_size")}),(function(e,t){n(e,s.meta,t,s.flushReason)}));o={status:1,segment:s,expirationTimeoutId:setTimeout(monitor((function(){flushSegment("max_duration")})),3e4)}}}return{addRecord:function(e){switch(o.status){case 0:createNewSegment(o.nextSegmentCreationReason,e);break;case 1:o.segment.addRecord(e)}},stop:function(){flushSegment(),a(),s(),u()}}}(e,(function(){return function computeSegmentContext(e,t,n){var r=t.findTrackedSession(),i=n.findView();if(!r||!i)return;return{application:{id:e},session:{id:r.id},view:{id:i.view.id}}}(t,n,r)}),i,o)}function createDeflateWorker(){return ot||(ot=URL.createObjectURL(new Blob(["("+workerCodeFn+")(self)"]))),new Worker(ot)}function workerCodeFn(){function monitor(e){return function(){try{return e.apply(this,arguments)}catch(e){try{self.postMessage({type:"errored",error:e})}catch(t){self.postMessage({type:"errored",error:""+e})}}}}monitor((function(){var e=function makePakoDeflate(){var e=4,t=0,n=1,r=2;function zero(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,o=1,a=2,s=3,u=258,c=29,l=256,d=l+1+c,f=30,p=19,h=2*d+1,v=15,g=16,m=7,y=256,b=16,_=17,E=18,S=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),C=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=512,R=new Array(2*(d+2));zero(R);var O=new Array(2*f);zero(O);var x=new Array(k);zero(x);var A=new Array(u-s+1);zero(A);var L=new Array(c);zero(L);var I,N,D,M=new Array(f);function StaticTreeDesc(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}zero(M);var U=function d_code(e){return e<256?x[e]:x[256+(e>>>7)]},P=function put_short(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},B=function send_bits(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,P(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},z=function send_code(e,t,n){B(e,n[2*t],n[2*t+1])},j=function bi_reverse(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},F=function bi_flush(e){16===e.bi_valid?(P(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},V=function gen_bitlen(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=v;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>g&&(o=g,m++),u[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=u[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}},H=function gen_codes(e,t,n){var r,i,o=new Array(v+1),a=0;for(r=1;r<=v;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=j(o[s]++,s))}},W=function tr_static_init(){var e,t,n,r,i,o=new Array(v+1);for(n=0,r=0;r<c-1;r++)for(L[r]=n,e=0;e<1<<S[r];e++)A[n++]=r;for(A[n-1]=r,i=0,r=0;r<16;r++)for(M[r]=i,e=0;e<1<<w[r];e++)x[i++]=r;for(i>>=7;r<f;r++)for(M[r]=i<<7,e=0;e<1<<w[r]-7;e++)x[256+i++]=r;for(t=0;t<=v;t++)o[t]=0;for(e=0;e<=143;)R[2*e+1]=8,e++,o[8]++;for(;e<=255;)R[2*e+1]=9,e++,o[9]++;for(;e<=279;)R[2*e+1]=7,e++,o[7]++;for(;e<=287;)R[2*e+1]=8,e++,o[8]++;for(H(R,d+1,o),e=0;e<f;e++)O[2*e+1]=5,O[2*e]=j(e,5);I=new StaticTreeDesc(R,S,l+1,d,v),N=new StaticTreeDesc(O,w,0,f,v),D=new StaticTreeDesc(new Array(0),C,0,p,m)},q=function init_block(e){var t;for(t=0;t<d;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},G=function bi_windup(e){e.bi_valid>8?P(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},X=function copy_block(e,t,n,r){G(e),r&&(P(e,n),P(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Z=function smaller(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},Y=function pqdownheap(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&Z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Z(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},K=function compress_block(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?z(e,i,t):(o=A[i],z(e,o+l+1,t),0!==(a=S[o])&&(i-=L[o],B(e,i,a)),r--,o=U(r),z(e,o,n),0!==(a=w[o])&&(r-=M[o],B(e,r,a)))}while(s<e.last_lit);z(e,y,t)},J=function build_tree(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Y(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,Y(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],V(e,t),H(o,c,e.bl_count)},$=function scan_tree(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):s<=10?e.bl_tree[2*_]++:e.bl_tree[2*E]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},Q=function send_tree(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{z(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(z(e,i,e.bl_tree),s--),z(e,b,e.bl_tree),B(e,s-3,2)):s<=10?(z(e,_,e.bl_tree),B(e,s-3,3)):(z(e,E,e.bl_tree),B(e,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}},ee=function build_bl_tree(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),J(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*T[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},te=function send_all_trees(e,t,n,r){var i;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),i=0;i<r;i++)B(e,e.bl_tree[2*T[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)},ne=function detect_data_type(e){var r,i=4093624447;for(r=0;r<=31;r++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*r])return t;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return n;for(r=32;r<l;r++)if(0!==e.dyn_ltree[2*r])return n;return t},re=!1,ie=function _tr_stored_block(e,t,n,r){B(e,(i<<1)+(r?1:0),3),X(e,t,n,!0)},oe=function _tr_flush_block(t,n,i,s){var u,c,l=0;t.level>0?(t.strm.data_type===r&&(t.strm.data_type=ne(t)),J(t,t.l_desc),J(t,t.d_desc),l=ee(t),u=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=u&&(u=c)):u=c=i+5,i+4<=u&&-1!==n?ie(t,n,i,s):t.strategy===e||c===u?(B(t,(o<<1)+(s?1:0),3),K(t,R,O)):(B(t,(a<<1)+(s?1:0),3),te(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),K(t,t.dyn_ltree,t.dyn_dtree)),q(t),s&&G(t)},ae={_tr_init:function _tr_init(e){re||(W(),re=!0),e.l_desc=new TreeDesc(e.dyn_ltree,I),e.d_desc=new TreeDesc(e.dyn_dtree,N),e.bl_desc=new TreeDesc(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,q(e)},_tr_stored_block:ie,_tr_flush_block:oe,_tr_tally:function _tr_tally(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(A[n]+l+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function _tr_align(e){B(e,o<<1,3),z(e,y,R),F(e)}},se=function adler32(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},ue=new Uint32Array(function makeTable(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),ce=function crc32(e,t,n,r){var i=ue,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},le={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},de={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},fe=ae._tr_init,pe=ae._tr_stored_block,he=ae._tr_flush_block,ve=ae._tr_tally,ge=ae._tr_align,me=de.Z_NO_FLUSH,ye=de.Z_PARTIAL_FLUSH,be=de.Z_FULL_FLUSH,_e=de.Z_FINISH,Ee=de.Z_BLOCK,Se=de.Z_OK,we=de.Z_STREAM_END,Ce=de.Z_STREAM_ERROR,Te=de.Z_DATA_ERROR,ke=de.Z_BUF_ERROR,Re=de.Z_DEFAULT_COMPRESSION,Oe=de.Z_FILTERED,xe=de.Z_HUFFMAN_ONLY,Ae=de.Z_RLE,Le=de.Z_FIXED,Ie=de.Z_DEFAULT_STRATEGY,Ne=de.Z_UNKNOWN,De=de.Z_DEFLATED,Me=9,Ue=15,Pe=8,Be=286,ze=30,je=19,Fe=2*Be+1,Ve=15,He=3,We=258,qe=We+He+1,Ge=32,Xe=42,Ze=69,Ye=73,Ke=91,Je=103,$e=113,Qe=666,et=1,tt=2,nt=3,rt=4,it=3,ot=function err(e,t){return e.msg=le[t],t},at=function rank(e){return(e<<1)-(e>4?9:0)},st=function zero(e){for(var t=e.length;--t>=0;)e[t]=0},ut=function HASH_ZLIB(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},ct=function flush_pending(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},lt=function flush_block_only(e,t){he(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ct(e.strm)},dt=function put_byte(e,t){e.pending_buf[e.pending++]=t},ft=function putShortMSB(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},pt=function read_buf(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=se(e.adler,t,i,n):2===e.state.wrap&&(e.adler=ce(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},ht=function longest_match(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-qe?e.strstart-(e.w_size-qe):0,c=e.window,l=e.w_mask,d=e.prev,f=e.strstart+We,p=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=We-(f-o),o=f-We,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[o+a-1],h=c[o+a]}}}while((t=d[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead},vt=function fill_window(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-qe)){e.window.set(e.window.subarray(a,a+a),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=pt(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=He)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=ut(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=ut(e,e.ins_h,e.window[o+He-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<He)););}while(e.lookahead<qe&&0!==e.strm.avail_in)},gt=function deflate_fast(e,t){for(var n,r;;){if(e.lookahead<qe){if(vt(e),e.lookahead<qe&&t===me)return et;if(0===e.lookahead)break}if(n=0,e.lookahead>=He&&(e.ins_h=ut(e,e.ins_h,e.window[e.strstart+He-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-qe&&(e.match_length=ht(e,n)),e.match_length>=He)if(r=ve(e,e.strstart-e.match_start,e.match_length-He),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=He){e.match_length--;do{e.strstart++,e.ins_h=ut(e,e.ins_h,e.window[e.strstart+He-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ut(e,e.ins_h,e.window[e.strstart+1]);else r=ve(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(lt(e,!1),0===e.strm.avail_out))return et}return e.insert=e.strstart<He-1?e.strstart:He-1,t===_e?(lt(e,!0),0===e.strm.avail_out?nt:rt):e.last_lit&&(lt(e,!1),0===e.strm.avail_out)?et:tt},mt=function deflate_slow(e,t){for(var n,r,i;;){if(e.lookahead<qe){if(vt(e),e.lookahead<qe&&t===me)return et;if(0===e.lookahead)break}if(n=0,e.lookahead>=He&&(e.ins_h=ut(e,e.ins_h,e.window[e.strstart+He-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=He-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-qe&&(e.match_length=ht(e,n),e.match_length<=5&&(e.strategy===Oe||e.match_length===He&&e.strstart-e.match_start>4096)&&(e.match_length=He-1)),e.prev_length>=He&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-He,r=ve(e,e.strstart-1-e.prev_match,e.prev_length-He),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ut(e,e.ins_h,e.window[e.strstart+He-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=He-1,e.strstart++,r&&(lt(e,!1),0===e.strm.avail_out))return et}else if(e.match_available){if((r=ve(e,0,e.window[e.strstart-1]))&&lt(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return et}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ve(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<He-1?e.strstart:He-1,t===_e?(lt(e,!0),0===e.strm.avail_out?nt:rt):e.last_lit&&(lt(e,!1),0===e.strm.avail_out)?et:tt},yt=function deflate_rle(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=We){if(vt(e),e.lookahead<=We&&t===me)return et;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=He&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+We;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=We-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=He?(n=ve(e,1,e.match_length-He),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ve(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(lt(e,!1),0===e.strm.avail_out))return et}return e.insert=0,t===_e?(lt(e,!0),0===e.strm.avail_out?nt:rt):e.last_lit&&(lt(e,!1),0===e.strm.avail_out)?et:tt},bt=function deflate_huff(e,t){for(var n;;){if(0===e.lookahead&&(vt(e),0===e.lookahead)){if(t===me)return et;break}if(e.match_length=0,n=ve(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(lt(e,!1),0===e.strm.avail_out))return et}return e.insert=0,t===_e?(lt(e,!0),0===e.strm.avail_out?nt:rt):e.last_lit&&(lt(e,!1),0===e.strm.avail_out)?et:tt};function Config(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var _t=[new Config(0,0,0,0,(function deflate_stored(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(vt(e),0===e.lookahead&&t===me)return et;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,lt(e,!1),0===e.strm.avail_out))return et;if(e.strstart-e.block_start>=e.w_size-qe&&(lt(e,!1),0===e.strm.avail_out))return et}return e.insert=0,t===_e?(lt(e,!0),0===e.strm.avail_out?nt:rt):(e.strstart>e.block_start&&(lt(e,!1),e.strm.avail_out),et)})),new Config(4,4,8,4,gt),new Config(4,5,16,8,gt),new Config(4,6,32,32,gt),new Config(4,4,16,16,mt),new Config(8,16,32,32,mt),new Config(8,16,128,128,mt),new Config(8,32,128,256,mt),new Config(32,128,258,1024,mt),new Config(32,258,258,4096,mt)],Et=function lm_init(e){e.window_size=2*e.w_size,st(e.head),e.max_lazy_match=_t[e.level].max_lazy,e.good_match=_t[e.level].good_length,e.nice_match=_t[e.level].nice_length,e.max_chain_length=_t[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=He-1,e.match_available=0,e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=De,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Fe),this.dyn_dtree=new Uint16Array(2*(2*ze+1)),this.bl_tree=new Uint16Array(2*(2*je+1)),st(this.dyn_ltree),st(this.dyn_dtree),st(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ve+1),this.heap=new Uint16Array(2*Be+1),st(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Be+1),st(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var St=function deflateResetKeep(e){if(!e||!e.state)return ot(e,Ce);e.total_in=e.total_out=0,e.data_type=Ne;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Xe:$e,e.adler=2===t.wrap?0:1,t.last_flush=me,fe(t),Se},wt=function deflateReset(e){var t=St(e);return t===Se&&Et(e.state),t},Ct=function deflateInit2(e,t,n,r,i,o){if(!e)return Ce;var a=1;if(t===Re&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>Me||n!==De||r<8||r>15||t<0||t>9||o<0||o>Le)return ot(e,Ce);8===r&&(r=9);var s=new DeflateState;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+He-1)/He),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,wt(e)},Tt={deflateInit:function deflateInit(e,t){return Ct(e,t,De,Ue,Pe,Ie)},deflateInit2:Ct,deflateReset:wt,deflateResetKeep:St,deflateSetHeader:function deflateSetHeader(e,t){return e&&e.state?2!==e.state.wrap?Ce:(e.state.gzhead=t,Se):Ce},deflate:function deflate(e,t){var n,r;if(!e||!e.state||t>Ee||t<0)return e?ot(e,Ce):Ce;var i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===Qe&&t!==_e)return ot(e,0===e.avail_out?ke:Ce);i.strm=e;var o=i.last_flush;if(i.last_flush=t,i.status===Xe)if(2===i.wrap)e.adler=0,dt(i,31),dt(i,139),dt(i,8),i.gzhead?(dt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),dt(i,255&i.gzhead.time),dt(i,i.gzhead.time>>8&255),dt(i,i.gzhead.time>>16&255),dt(i,i.gzhead.time>>24&255),dt(i,9===i.level?2:i.strategy>=xe||i.level<2?4:0),dt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(dt(i,255&i.gzhead.extra.length),dt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=ce(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Ze):(dt(i,0),dt(i,0),dt(i,0),dt(i,0),dt(i,0),dt(i,9===i.level?2:i.strategy>=xe||i.level<2?4:0),dt(i,it),i.status=$e);else{var a=De+(i.w_bits-8<<4)<<8;a|=(i.strategy>=xe||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=Ge),a+=31-a%31,i.status=$e,ft(i,a),0!==i.strstart&&(ft(i,e.adler>>>16),ft(i,65535&e.adler)),e.adler=1}if(i.status===Ze)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=ce(e.adler,i.pending_buf,i.pending-n,n)),ct(e),n=i.pending,i.pending!==i.pending_buf_size));)dt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=ce(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Ye)}else i.status=Ye;if(i.status===Ye)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=ce(e.adler,i.pending_buf,i.pending-n,n)),ct(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,dt(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=ce(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=Ke)}else i.status=Ke;if(i.status===Ke)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=ce(e.adler,i.pending_buf,i.pending-n,n)),ct(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,dt(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=ce(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=Je)}else i.status=Je;if(i.status===Je&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ct(e),i.pending+2<=i.pending_buf_size&&(dt(i,255&e.adler),dt(i,e.adler>>8&255),e.adler=0,i.status=$e)):i.status=$e),0!==i.pending){if(ct(e),0===e.avail_out)return i.last_flush=-1,Se}else if(0===e.avail_in&&at(t)<=at(o)&&t!==_e)return ot(e,ke);if(i.status===Qe&&0!==e.avail_in)return ot(e,ke);if(0!==e.avail_in||0!==i.lookahead||t!==me&&i.status!==Qe){var s=i.strategy===xe?bt(i,t):i.strategy===Ae?yt(i,t):_t[i.level].func(i,t);if(s!==nt&&s!==rt||(i.status=Qe),s===et||s===nt)return 0===e.avail_out&&(i.last_flush=-1),Se;if(s===tt&&(t===ye?ge(i):t!==Ee&&(pe(i,0,0,!1),t===be&&(st(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ct(e),0===e.avail_out))return i.last_flush=-1,Se}return t!==_e?Se:i.wrap<=0?we:(2===i.wrap?(dt(i,255&e.adler),dt(i,e.adler>>8&255),dt(i,e.adler>>16&255),dt(i,e.adler>>24&255),dt(i,255&e.total_in),dt(i,e.total_in>>8&255),dt(i,e.total_in>>16&255),dt(i,e.total_in>>24&255)):(ft(i,e.adler>>>16),ft(i,65535&e.adler)),ct(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Se:we)},deflateEnd:function deflateEnd(e){if(!e||!e.state)return Ce;var t=e.state.status;return t!==Xe&&t!==Ze&&t!==Ye&&t!==Ke&&t!==Je&&t!==$e&&t!==Qe?ot(e,Ce):(e.state=null,t===$e?ot(e,Te):Se)},deflateSetDictionary:function deflateSetDictionary(e,t){var n=t.length;if(!e||!e.state)return Ce;var r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Xe||r.lookahead)return Ce;if(1===i&&(e.adler=se(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(st(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var a=e.avail_in,s=e.next_in,u=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,vt(r);r.lookahead>=He;){var c=r.strstart,l=r.lookahead-(He-1);do{r.ins_h=ut(r,r.ins_h,r.window[c+He-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--l);r.strstart=c,r.lookahead=He-1,vt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=He-1,r.match_available=0,e.next_in=s,e.input=u,e.avail_in=a,r.wrap=i,Se},deflateInfo:"pako deflate (from Nodeca project)"};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kt=function _has(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Rt={assign:function assign(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==_typeof(n))throw new TypeError(n+"must be non-object");for(var r in n)kt(n,r)&&(e[r]=n[r])}}return e},flattenChunks:function flattenChunks(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var u=e[o];i.set(u,a),a+=u.length}return i}};try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){!1}for(var Ot=new Uint8Array(256),xt=0;xt<256;xt++)Ot[xt]=xt>=252?6:xt>=248?5:xt>=240?4:xt>=224?3:xt>=192?2:1;function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Ot[254]=Ot[254]=1;var At=ZStream,Lt=Object.prototype.toString,It=de.Z_NO_FLUSH,Nt=de.Z_SYNC_FLUSH,Dt=de.Z_FULL_FLUSH,Mt=de.Z_FINISH,Ut=de.Z_OK,Pt=de.Z_STREAM_END,Bt=de.Z_DEFAULT_COMPRESSION,zt=de.Z_DEFAULT_STRATEGY,jt=de.Z_DEFLATED;function Deflate(e){this.options=Rt.assign({level:Bt,method:jt,chunkSize:16384,windowBits:15,memLevel:8,strategy:zt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new At,this.strm.avail_out=0;var n=Tt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ut)throw new Error(le[n]);if(t.header&&Tt.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="[object ArrayBuffer]"===Lt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=Tt.deflateSetDictionary(this.strm,r))!==Ut)throw new Error(le[n]);this._dict_set=!0}}function string2buf(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}return Deflate.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Mt:It,"[object ArrayBuffer]"===Lt.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===Nt||r===Dt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=Tt.deflate(i,r))===Pt)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=Tt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Ut;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},Deflate.prototype.onData=function(e){this.chunks.push(e)},Deflate.prototype.onEnd=function(e){e===Ut&&(this.result=Rt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},{Deflate:Deflate,constants:de,string2buf:string2buf}}(),t=e.Deflate,n=e.constants,r=e.string2buf,i=new t,o=0;function pushData(e){var t=r(e);return i.push(t,n.Z_SYNC_FLUSH),o+=t.length,t.length}self.addEventListener("message",monitor((function(e){var r=e.data;switch(r.action){case"init":self.postMessage({type:"initialized"});break;case"write":var a=pushData(r.data);self.postMessage({type:"wrote",id:r.id,compressedSize:i.chunks.reduce((function(e,t){return e+t.length}),0),additionalRawSize:a});break;case"flush":a=r.data?pushData(r.data):0;i.push("",n.Z_FINISH),self.postMessage({type:"flushed",id:r.id,result:i.result,additionalRawSize:a,rawSize:o}),i=new t,o=0}})))}))()}var ct={status:0};function startDeflateWorker(e,t){switch(void 0===t&&(t=createDeflateWorker),ct.status){case 0:ct={status:1,callbacks:[e]},function doStartDeflateWorker(e){void 0===e&&(e=createDeflateWorker);try{var t=e();return t.addEventListener("error",monitor(onError)),t.addEventListener("message",monitor((function(e){var n=e.data;"errored"===n.type?onError(n.error):"initialized"===n.type&&function onInitialized(e){1===ct.status&&(ct.callbacks.forEach((function(t){return t(e)})),ct={status:3,worker:e})}(t)}))),t.postMessage({action:"init"}),t}catch(e){onError(e)}}(t);break;case 1:ct.callbacks.push(e);break;case 2:e();break;case 3:e(ct.worker)}}function onError(e){1===ct.status?(r.error("Session Replay recording failed to start: an error occurred while creating the Worker:",e),e instanceof Event||e instanceof Error&&includes(e.message,"Content Security Policy")?r.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):addMonitoringError(e),ct.callbacks.forEach((function(e){return e()})),ct={status:2}):addMonitoringError(e)}var lt=function makeRumPublicApi(e,t,n){var i=(void 0===n?{}:n).ignoreInitIfSyntheticsWillInjectRum,o=void 0===i||i,a=!1,s=function createContextManager(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}(),u={},getInternalContextStrategy=function(){},getInitConfigurationStrategy=function(){},c=new A,addTimingStrategy=function(e,t){void 0===t&&(t=timeStampNow()),c.add((function(){return addTimingStrategy(e,t)}))},startViewStrategy=function(e,t){void 0===t&&(t=clocksNow()),c.add((function(){return startViewStrategy(e,t)}))},addActionStrategy=function(e,t){void 0===t&&(t=clonedCommonContext()),c.add((function(){return addActionStrategy(e,t)}))},addErrorStrategy=function(e,t){void 0===t&&(t=clonedCommonContext()),c.add((function(){return addErrorStrategy(e,t)}))};function clonedCommonContext(){return deepClone({context:s.get(),user:u})}function doStartRum(n,r,i){var o=e(n,r,(function(){return{user:u,context:s.get(),hasReplay:!!t.isRecording()||void 0}}),t,i);startViewStrategy=o.startView,addActionStrategy=o.addAction,addErrorStrategy=o.addError,addTimingStrategy=o.addTiming,getInternalContextStrategy=o.getInternalContext,c.drain(),t.onRumStart(o.lifeCycle,n,o.session,o.parentContexts)}return function makePublicApi(e,t){var n=__assign(__assign({},t),{version:e.sdkVersion,onReady:function(e){e()}});return Object.defineProperty(n,"_setDebug",{get:function(){return setDebugMode},enumerable:!1}),n}(F,{init:monitor((function initRum(e){if(!o||!willSyntheticsInjectRum()){if(canUseEventBridge())e=function overrideInitConfigurationForBridge(e){return tslib_es6_assign(tslib_es6_assign({},e),{applicationId:"empty",clientToken:"empty",sampleRate:100})}(e);else if(!function canHandleSession(e){if(!function areCookiesAuthorized(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+generateUUID(),n="test";setCookie(t,n,f,e);var i=getCookie(t)===n;return deleteCookie(t,e),i}catch(e){return r.error(e),!1}}(buildCookieOptions(e)))return r.warn("Cookies are not authorized, we will not send any data."),!1;if(function isLocalFile(){return"file:"===window.location.protocol}())return r.error("Execution is not allowed in the current context."),!1;return!0}(e))return;if(function canInitRum(e){if(a)return e.silentMultipleInit||r.error("DD_RUM is already initialized."),!1;return!0}(e)){var t=function validateAndBuildRumConfiguration(e){var t,n;if(e.applicationId)if(void 0===e.replaySampleRate||isPercentage(e.replaySampleRate)){if(void 0!==e.allowedTracingOrigins){if(!Array.isArray(e.allowedTracingOrigins))return void r.error("Allowed Tracing Origins should be an array");if(0!==e.allowedTracingOrigins.length&&void 0===e.service)return void r.error("Service need to be configured when tracing is enabled")}var i=validateAndBuildConfiguration(e,F);if(i)return tslib_es6_assign(tslib_es6_assign({},i),{applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,replaySampleRate:null!==(t=e.replaySampleRate)&&void 0!==t?t:100,allowedTracingOrigins:null!==(n=e.allowedTracingOrigins)&&void 0!==n?n:[],trackInteractions:!!e.trackInteractions,trackViewsManually:!!e.trackViewsManually,defaultPrivacyLevel:objectHasValue(j,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:j.MASK_USER_INPUT})}else r.error("Replay Sample Rate should be a number between 0 and 100");else r.error("Application ID is not configured, no RUM data will be collected.")}(e);if(t){var n=startInternalMonitoring(t);if(t.trackViewsManually){var i=c;c=new A,startViewStrategy=function(e){doStartRum(t,n,e)},i.drain()}else doStartRum(t,n);getInitConfigurationStrategy=function(){return deepClone(e)},a=!0}}}})),addRumGlobalContext:monitor(s.add),removeRumGlobalContext:monitor(s.remove),getRumGlobalContext:monitor(s.get),setRumGlobalContext:monitor(s.set),getInternalContext:monitor((function(e){return getInternalContextStrategy(e)})),getInitConfiguration:monitor((function(){return getInitConfigurationStrategy()})),addAction:monitor((function(e,t){addActionStrategy({name:e,context:deepClone(t),startClocks:clocksNow(),type:z.CUSTOM})})),addError:function(e,t){var n=createHandlingStack();callMonitored((function(){addErrorStrategy({error:e,handlingStack:n,context:deepClone(t),startClocks:clocksNow()})}))},addTiming:monitor((function(e,t){addTimingStrategy(e,t)})),setUser:monitor((function(e){var t=function sanitizeUser(e){if("object"!=typeof e||!e)return;var t=deepClone(e);"id"in t&&(t.id=String(t.id));"name"in t&&(t.name=String(t.name));"email"in t&&(t.email=String(t.email));return t}(e);t?u=t:r.error("Unsupported user:",e)})),removeUser:monitor((function(){u={}})),startView:monitor((function(e){startViewStrategy(e)})),startSessionReplayRecording:monitor(t.start),stopSessionReplayRecording:monitor(t.stop)})}((function startRum(e,t,n,r,i){var o=new W,a=canUseEventBridge()?function startRumSessionManagerStub(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",hasReplayPlan:!0,hasLitePlan:!1};return{findTrackedSession:function(){return e}}}():startRumSessionManager(e,o),s=function createDOMMutationObservable(){var e=getMutationObserverConstructor(),t=new H((function(){if(e){var n=new e(monitor((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}));return t}(),u=createLocationChangeObservable(location);t.setExternalContextProvider((function(){var t;return combine({application_id:e.applicationId,session:{id:null===(t=a.findTrackedSession())||void 0===t?void 0:t.id}},l.findView(),{view:{name:null}})}));var c=function startRumEventCollection(e,t,n,r,i,o){var a,s=function startParentContexts(e){var t=new X(144e5),n=new X(3e5);function buildViewContext(e){return{view:{id:e.id,name:e.name}}}return e.subscribe(V.VIEW_CREATED,(function(e){t.setCurrent(buildViewContext(e),e.startClocks.relative)})),e.subscribe(V.VIEW_UPDATED,(function(e){var n=t.getCurrent();n&&n.view.id===e.id&&t.setCurrent(buildViewContext(e),e.startClocks.relative)})),e.subscribe(V.VIEW_ENDED,(function(e){var n=e.endClocks;t.closeCurrent(n.relative)})),e.subscribe(V.AUTO_ACTION_CREATED,(function(e){n.setCurrent(function buildActionContext(e){return{action:{id:e.id}}}(e),e.startClocks.relative)})),e.subscribe(V.AUTO_ACTION_COMPLETED,(function(e){if(n.getCurrent()){var t=e.startClocks.relative+e.duration;n.closeCurrent(t)}})),e.subscribe(V.AUTO_ACTION_DISCARDED,(function(){n.clearCurrent()})),e.subscribe(V.SESSION_RENEWED,(function(){t.reset(),n.reset()})),{findAction:function(e){return n.find(e)},findView:function(e){return t.find(e)},stop:function(){t.stop(),n.stop()}}}(e),u=function startUrlContexts(e,t,n){var r,i=new X(144e5);e.subscribe(V.VIEW_ENDED,(function(e){var t=e.endClocks;i.closeCurrent(t.relative)})),e.subscribe(V.VIEW_CREATED,(function(e){var t=e.startClocks,o=n.href;i.setCurrent(buildUrlContext({url:o,referrer:r||document.referrer}),t.relative),r=o}));var o=t.subscribe((function(e){var t=e.newLocation,n=i.getCurrent();if(n){var r=relativeNow();i.closeCurrent(r),i.setCurrent(buildUrlContext({url:t.href,referrer:n.view.referrer}),r)}}));function buildUrlContext(e){return{view:{url:e.url,referrer:e.referrer}}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,i,n),c=startForegroundContexts();canUseEventBridge()?function startRumEventBridge(e){var t=getEventBridge();e.subscribe(V.RUM_EVENT_COLLECTED,(function(e){t.send("rum",e)}))}(e):a=startRumBatch(t,e).stop;return startRumAssembly(t,e,r,s,u,o),{parentContexts:s,foregroundContexts:c,urlContexts:u,stop:function(){null==a||a(),s.stop(),c.stop()}}}(o,e,location,a,u,n),l=c.parentContexts,d=c.foregroundContexts,f=c.urlContexts;!function startLongTaskCollection(e,t){e.subscribe(V.PERFORMANCE_ENTRIES_COLLECTED,(function(n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if("longtask"!==o.entryType)break;var a=t.findTrackedSession(o.startTime);if(!a||a.hasLitePlan)break;var s=relativeToClocks(o.startTime),u={date:s.timeStamp,long_task:{id:generateUUID(),duration:toServerDuration(o.duration)},type:P.LONG_TASK};e.notify(V.RAW_RUM_EVENT_COLLECTED,{rawRumEvent:u,startTime:s.relative,domainContext:{performanceEntry:o.toJSON()}})}}))}(o,a),startResourceCollection(o);var p=startViewCollection(o,e,location,s,u,d,r,i),h=p.addTiming,v=p.startView,g=startErrorCollection(o,d).addError,m=function startActionCollection(e,t,n,r){return e.subscribe(V.AUTO_ACTION_COMPLETED,(function(t){return e.notify(V.RAW_RUM_EVENT_COLLECTED,processAction(t,r))})),n.trackInteractions&&trackActions(e,t,n),{addAction:function(t,n){e.notify(V.RAW_RUM_EVENT_COLLECTED,tslib_es6_assign({savedCommonContext:n},processAction(t,r)))}}}(o,s,e,d).addAction;startRequestCollection(o,e,a),startPerformanceCollection(o,e);var y=function startInternalContext(e,t,n,r){return{get:function(i){var o=n.findView(i),a=r.findUrl(i),s=t.findTrackedSession(i);if(s&&o&&a){var u=n.findAction(i);return{application_id:e,session_id:s.id,user_action:u?{id:u.action.id}:void 0,view:tslib_es6_assign(tslib_es6_assign({},o.view),a.view)}}}}}(e.applicationId,a,l,f);return{addAction:m,addError:g,addTiming:h,startView:v,lifeCycle:o,parentContexts:l,session:a,getInternalContext:y.get}}),function makeRecorderApi(e,t){if(void 0===t&&(t=startDeflateWorker),canUseEventBridge())return{start:noop,stop:noop,getReplayStats:function(){},onRumStart:noop,isRecording:function(){return!1}};var n={status:0},startStrategy=function(){n={status:1}},stopStrategy=function(){n={status:0}};return{start:function(){return startStrategy()},stop:function(){return stopStrategy()},getReplayStats:getReplayStats,onRumStart:function(r,i,o,a){r.subscribe(V.SESSION_EXPIRED,(function(){2!==n.status&&3!==n.status||(stopStrategy(),n={status:1})})),r.subscribe(V.SESSION_RENEWED,(function(){1===n.status&&startStrategy()})),startStrategy=function(){var s=o.findTrackedSession();s&&s.hasReplayPlan?2!==n.status&&3!==n.status&&(n={status:2},runOnReadyState("interactive",(function(){2===n.status&&t((function(t){if(2===n.status)if(t){var s=e(r,i,o,a,t).stop;n={status:3,stopRecording:s}}else n={status:0}}))}))):n={status:1}},stopStrategy=function(){0!==n.status&&(3===n.status&&n.stopRecording(),n={status:0})},1===n.status&&startStrategy()},isRecording:function(){return 3===n.status}}}((function startRecording(e,t,n,r,i){var o=startSegmentCollection(e,t.applicationId,n,r,(function(e,n,r,i){return send_send(t.sessionReplayEndpointBuilder,e,n,r,i)}),i),a=o.addRecord,s=o.stop;function addRawRecord(e){a(tslib_tslib_es6_assign(tslib_tslib_es6_assign({},e),{timestamp:Date.now()}))}var u=function record_record(e){var t=e.emit;if(!t)throw new Error("emit function is required");var n=new $e,takeFullSnapshot=function(){n.flush(),t({data:{height:getWindowHeight(),href:window.location.href,width:getWindowWidth()},type:Re}),t({data:{has_focus:document.hasFocus()},type:Oe}),t({data:{node:serializeDocument(document,e.defaultPrivacyLevel),initialOffset:{left:getScrollX(),top:getScrollY()}},type:Te}),window.visualViewport&&t({data:getVisualViewport(),type:Ae})};return takeFullSnapshot(),{stop:initObservers({mutationController:n,defaultPrivacyLevel:e.defaultPrivacyLevel,inputCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.Input},e),type:ke})},mediaInteractionCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.MediaInteraction},e),type:ke})},mouseInteractionCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.MouseInteraction},e),type:ke})},mousemoveCb:function(e,n){return t({data:{positions:e,source:n},type:ke})},mutationCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.Mutation},e),type:ke})},scrollCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.Scroll},e),type:ke})},styleSheetRuleCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.StyleSheetRule},e),type:ke})},viewportResizeCb:function(e){return t({data:tslib_tslib_es6_assign({source:Ue.ViewportResize},e),type:ke})},focusCb:function(e){return t({type:Oe,data:e})},visualViewportResizeCb:function(e){t({data:e,type:Ae})}}),takeFullSnapshot:takeFullSnapshot,flushMutations:function(){return n.flush()}}}({emit:addRawRecord,defaultPrivacyLevel:t.defaultPrivacyLevel}),c=u.stop,l=u.takeFullSnapshot,d=u.flushMutations,f=e.subscribe(V.VIEW_ENDED,(function(){d(),addRawRecord({type:xe})})).unsubscribe,p=e.subscribe(V.VIEW_CREATED,l).unsubscribe;return{stop:function(){f(),p(),c(),s()}}})));!function defineGlobal(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return catchUserErrors(e,"onReady callback threw an error:")()}))}(function getGlobalObject(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}(),"DD_RUM",lt)},DZdY:function(e,t,n){"use strict";var r=n("wx14"),i=n("q1tI"),o=n("CTjV"),a=n("ek6p"),s=n("eVQB"),u=n("Exhd"),c=o.a,l=function testOmitPropsOnComponent(e){return"theme"!==e},d=function getDefaultShouldForwardProp(e){return"string"==typeof e&&e.charCodeAt(0)>96?c:l},f=function composeShouldForwardProps(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r};t.a=function createStyled(e,t){var n,o,c=e.__emotion_real===e,l=c&&e.__emotion_base||e;void 0!==t&&(n=t.label,o=t.target);var p=f(e,t,c),h=p||d(l),v=!h("as");return function(){var g=arguments,m=c&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==n&&m.push("label:"+n+";"),null==g[0]||void 0===g[0].raw)m.push.apply(m,g);else{0,m.push(g[0][0]);for(var y=g.length,b=1;b<y;b++)m.push(g[b],g[0][b])}var _=Object(a.h)((function(e,t,n){var r=v&&e.as||l,c="",f=[],g=e;if(null==e.theme){for(var y in g={},e)g[y]=e[y];g.theme=Object(i.useContext)(a.c)}"string"==typeof e.className?c=Object(s.a)(t.registered,f,e.className):null!=e.className&&(c=e.className+" ");var b=Object(u.a)(m.concat(f),t.registered,g);Object(s.b)(t,b,"string"==typeof r);c+=t.key+"-"+b.name,void 0!==o&&(c+=" "+o);var _=v&&void 0===p?d(r):h,E={};for(var S in e)v&&"as"===S||_(S)&&(E[S]=e[S]);return E.className=c,E.ref=n,Object(i.createElement)(r,E)}));return _.displayName=void 0!==n?n:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=l,_.__emotion_styles=m,_.__emotion_forwardProp=p,Object.defineProperty(_,"toString",{value:function value(){return"."+o}}),_.withComponent=function(e,n){return createStyled(e,Object(r.a)({},t,n,{shouldForwardProp:f(_,n,!0)})).apply(void 0,m)},_}}},Exhd:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=function murmur2(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n("SVgp"),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function isCustomProperty(e){return 45===e.charCodeAt(1)},c=function isProcessableValue(e){return null!=e&&"boolean"!=typeof e},l=Object(o.a)((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function processStyleValue(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===i[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function handleInterpolation(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function createStringFromObject(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=handleInterpolation(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":c(a)&&(r+=l(o)+":"+d(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=handleInterpolation(e,t,a);switch(o){case"animation":case"animationName":r+=l(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(r+=l(o)+":"+d(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=f,o=n(e);return f=i,handleInterpolation(e,t,o)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var f,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var h=function serializeStyles(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";f=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=handleInterpolation(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=handleInterpolation(n,t,e[s]),i&&(o+=a[s]);p.lastIndex=0;for(var u,c="";null!==(u=p.exec(o));)c+="-"+u[1];return{name:r(o)+c,styles:o,next:f}}},LsGH:function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var r={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},display=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(r,e)||(e=r.log),display[e].apply(display,t)};function catchUserErrors(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){display.error(t,e)}}}display.debug=console.debug.bind(console),display.log=console.log.bind(console),display.info=console.info.bind(console),display.warn=console.warn.bind(console),display.error=console.error.bind(console);var i,__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=!1;function setDebugMode(e){o=e}function monitored(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i?monitor(r):r;return n.apply(this,e)}}function monitor(e){return function(){return callMonitored(e,this,arguments)}}function callMonitored(e,t,n){try{return e.apply(t,n)}catch(e){if(displayIfDebugEnabled(r.error,e),i)try{i(e)}catch(e){displayIfDebugEnabled(r.error,e)}}}function displayIfDebugEnabled(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o&&display.apply(void 0,__spreadArray([e,"[MONITOR]"],t,!1))}var a=1e3,s=6e4;function throttle(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?e.apply(void 0,n):r=n,s=!0,i=setTimeout((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){clearTimeout(i),s=!1,r=void 0}}}function utils_assign(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function generateUUID(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,generateUUID)}function performDraw(e){return 0!==e&&100*Math.random()<=e}function noop(){}function jsonStringify(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=detachToJsonMethod(Object.prototype),i=detachToJsonMethod(Array.prototype),o=detachToJsonMethod(Object.getPrototypeOf(e)),a=detachToJsonMethod(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),o(),a()}}function detachToJsonMethod(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):noop}function includes(e,t){return-1!==e.indexOf(t)}function arrayFrom(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function isPercentage(e){return isNumber(e)&&e>=0&&e<=100}function isNumber(e){return"number"==typeof e}function objectValues(e){return Object.keys(e).map((function(t){return e[t]}))}function isEmptyObject(e){return 0===Object.keys(e).length}function startsWith(e,t){return e.slice(0,t.length)===t}function getGlobalObject(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function getLinkElementOrigin(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}function safeTruncate(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function getType(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function mergeInto(e,t,n){if(void 0===n&&(n=function createCircularReferenceChecker(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=mergeInto(i[o],t[o],n);return i}var a="object"===getType(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=mergeInto(a[s],t[s],n));return a}}function deepClone(e){return mergeInto(void 0,e)}function combine(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=mergeInto(e,o))}return e}function createContextManager(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t},getContext:function(){return deepClone(e)},setContext:function(t){e=deepClone(t)},setContextProperty:function(t,n){e[t]=deepClone(n)},removeContextProperty:function(t){delete e[t]},clearContext:function(){e={}}}}var u,c=function(){function BoundedBuffer(){this.buffer=[]}return BoundedBuffer.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},BoundedBuffer.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},BoundedBuffer}();function dateNow(){return(new Date).getTime()}function timeStampNow(){return dateNow()}function relativeNow(){return performance.now()}function clocksNow(){return{relative:relativeNow(),timeStamp:timeStampNow()}}function getNavigationStart(){return void 0===u&&(u=performance.timing.navigationStart),u}function getEventBridge(){var e=function getEventBridgeGlobal(){return getGlobalObject().DatadogEventBridge}();if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function canUseEventBridge(e){var t;void 0===e&&(e=null===(t=getGlobalObject().location)||void 0===t?void 0:t.hostname);var n=getEventBridge();return!!n&&n.getAllowedWebViewHosts().some((function(t){return e===t||function endsWith(e,t){return e.slice(-t.length)===t}(e,".".concat(t))}))}function sanitizeUser(e){var t=utils_assign({},e);return["id","name","email"].forEach((function(e){e in t&&(t[e]=String(t[e]))})),t}var l,d,f;function setCookie(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u)}function getCookie(e){return function findCommaSeparatedValue(e,t){var n=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")).exec(e);return n?n[1]:void 0}(document.cookie,e)}function deleteCookie(e,t){setCookie(e,"",0,t)}function getExperimentalFeatures(){return d||new Set}function normalizeUrl(e){return buildUrl(e,function getLocationOrigin(){return getLinkElementOrigin(window.location)}()).href}function buildUrl(e,t){if(function checkURLSupported(){if(void 0!==f)return f;try{var e=new URL("http://test/path");return f="http://test/path"===e.href}catch(e){f=!1}return f}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}var p="datadoghq.com",h={logs:"logs",rum:"rum",sessionReplay:"session-replay"},v={logs:"logs",rum:"rum",sessionReplay:"replay"};function createEndpointBuilder(e,t,n){var r=e.clientToken,i=function buildEndpointHost(e,t){var n=e.site,r=void 0===n?p:n,i=e.internalAnalyticsSubdomain;if(i&&r===p)return"".concat(i,".").concat(p);var o=r.split("."),a=o.pop();return"".concat(h[t],".browser-intake-").concat(o.join("-"),".").concat(a)}(e,t),o="https://".concat(i,"/api/v2/").concat(v[t]),a=e.proxyUrl&&normalizeUrl(e.proxyUrl);return{build:function(i,s){var u=["sdk_version:".concat("4.30.1"),"api:".concat(i)].concat(n);s&&u.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var c=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(r),"dd-evp-origin-version=".concat(encodeURIComponent("4.30.1")),"dd-evp-origin=browser","dd-request-id=".concat(generateUUID())];"rum"===t&&c.push("batch_time=".concat(timeStampNow())),e.internalAnalyticsSubdomain&&c.reverse();var l="".concat(o,"?").concat(c.join("&"));return a?"".concat(a,"?ddforward=").concat(encodeURIComponent(l)):l},buildIntakeUrl:function(){return a?"".concat(a,"?ddforward"):o},endpointType:t}}var g=/[^a-z0-9_:./-]/;function buildTag(e,t){var n=200-e.length-1;(t.length>n||g.test(t))&&display.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}function computeTransportConfiguration(e){var t=function buildTags(e){var t=e.env,n=e.service,r=e.version,i=e.datacenter,o=[];return t&&o.push(buildTag("env",t)),n&&o.push(buildTag("service",n)),r&&o.push(buildTag("version",r)),i&&o.push(buildTag("datacenter",i)),o}(e),n=function computeEndpointBuilders(e,t){return{logsEndpointBuilder:createEndpointBuilder(e,"logs",t),rumEndpointBuilder:createEndpointBuilder(e,"rum",t),sessionReplayEndpointBuilder:createEndpointBuilder(e,"sessionReplay",t)}}(e,t),r=objectValues(n).map((function(e){return e.buildIntakeUrl()})),i=function computeReplicaConfiguration(e,t,n){if(!e.replica)return;var r=utils_assign({},e,{site:p,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:createEndpointBuilder(r,"logs",n),rumEndpointBuilder:createEndpointBuilder(r,"rum",n)};return t.push.apply(t,objectValues(i).map((function(e){return e.buildIntakeUrl()}))),utils_assign({applicationId:e.replica.applicationId},i)}(e,r,t);return utils_assign({isIntakeUrl:function(e){return r.some((function(t){return 0===e.indexOf(t)}))},replica:i,site:e.site||p},n)}function validateAndBuildConfiguration(e){var t,n,r;if(e&&e.clientToken){var i=null!==(t=e.sessionSampleRate)&&void 0!==t?t:e.sampleRate;if(void 0===i||isPercentage(i))if(void 0===e.telemetrySampleRate||isPercentage(e.telemetrySampleRate)){if(void 0===e.telemetryConfigurationSampleRate||isPercentage(e.telemetryConfigurationSampleRate))return function updateExperimentalFeatures(e){Array.isArray(e)&&(d||(d=new Set(e)),e.filter((function(e){return"string"==typeof e})).forEach((function(e){includes(e,"-")&&display.warn("please use snake case for '".concat(e,"'")),d.add(e)})))}(e.enableExperimentalFeatures),utils_assign({beforeSend:e.beforeSend&&catchUserErrors(e.beforeSend,"beforeSend threw an error:"),cookieOptions:buildCookieOptions(e),sessionSampleRate:null!=i?i:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},computeTransportConfiguration(e));display.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else display.error("Telemetry Sample Rate should be a number between 0 and 100");else display.error("Session Sample Rate should be a number between 0 and 100")}else display.error("Client Token is not configured, we will not send any data.")}function buildCookieOptions(e){var t={};return t.secure=function mustUseSecureCookie(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function getCurrentSite(){if(void 0===l){for(var e="dd_site_test_".concat(generateUUID()),t=window.location.hostname.split("."),n=t.pop();t.length&&!getCookie(e);)n="".concat(t.pop(),".").concat(n),setCookie(e,"test",a,{domain:n});deleteCookie(e,{domain:n}),l=n}return l}()),t}var m="?";function computeStackTrace(e){var t=[],n=tryToGetString(e,"stack"),r=String(e);return n&&startsWith(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(e){var n=function parseChromeLine(e){var t=_.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=E.exec(t[2]);r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||m,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function parseChromeAnonymousLine(e){var t=S.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:m,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function parseWinLine(e){var t=w.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||m,line:+t[3],url:t[2]}}(e)||function parseGeckoLine(e){var t=C.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=T.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||m,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=m),t.push(n))})),{message:tryToGetString(e,"message"),name:tryToGetString(e,"name"),stack:t}}var y="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",b="(?::(\\d+))",_=new RegExp("^\\s*at (.*?) ?\\(".concat(y).concat(b,"?").concat(b,"?\\)?\\s*$"),"i"),E=new RegExp("\\((\\S*)".concat(b).concat(b,"\\)"));var S=new RegExp("^\\s*at ?".concat(y).concat(b,"?").concat(b,"??\\s*$"),"i");var w=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var C=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,T=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function tryToGetString(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var k="agent",R="console",O="logger",x="network",A="source",L="report";function toStackTraceString(e){var t=formatErrorMessage(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)})),t}function formatErrorMessage(e){return"".concat(e.name||"Error",": ").concat(e.message)}function createHandlingStack(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return callMonitored((function(){var n=computeStackTrace(t);n.stack=n.stack.slice(2),e=toStackTraceString(n)})),e}function flattenErrorCauses(e,t){for(var n=e,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=computeStackTrace(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&toStackTraceString(i)}),n=n.cause}return r.length?r:void 0}var I=function(){function Observable(e){this.onFirstSubscribe=e,this.observers=[]}return Observable.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},Observable.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},Observable}();function mergeObservables(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new I((function(){var t=e.map((function(e){return e.subscribe((function(e){return n.notify(e)}))}));return function(){return t.forEach((function(e){return e.unsubscribe()}))}}));return n}function getZoneJsOriginalValue(e,t){var n,r=window;return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function addEventListener(e,t,n,r){return addEventListeners(e,[t],n,r)}function addEventListeners(e,t,n,r){var i=void 0===r?{}:r,o=i.once,a=i.capture,s=i.passive,u=monitor(o?function(e){stop(),n(e)}:n),c=s?{capture:a,passive:s}:a,l=getZoneJsOriginalValue(e,"addEventListener");function stop(){var n=getZoneJsOriginalValue(e,"removeEventListener");t.forEach((function(t){return n.call(e,t,u,c)}))}return t.forEach((function(t){return l.call(e,t,u,c)})),{stop:stop}}var N={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function initReportObservable(e){var t=[];includes(e,N.cspViolation)&&t.push(function createCspViolationReportObservable(){var e=new I((function(){var t=monitor((function(t){e.notify(function buildRawReportFromCspViolation(e){var t=N.cspViolation,n="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:N.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(n),stack:buildStack(e.effectiveDirective,e.originalPolicy?"".concat(n,' of the policy "').concat(safeTruncate(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(t))}));return addEventListener(document,"securitypolicyviolation",t).stop}));return e}());var n=e.filter((function(e){return e!==N.cspViolation}));return n.length&&t.push(function createReportObservable(e){var t=new I((function(){if(window.ReportingObserver){var n=monitor((function(e){return e.forEach((function(e){t.notify(function buildRawReportFromReport(e){var t=e.type,n=e.body;return{type:t,subtype:n.id,message:"".concat(t,": ").concat(n.message),stack:buildStack(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}));return t}(n)),mergeObservables.apply(void 0,t)}function buildStack(e,t,n,r,i){return n&&toStackTraceString({name:e,message:t,stack:[{func:"?",url:n,line:r,column:i}]})}function validateAndBuildForwardOption(e,t,n){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every((function(e){return includes(t,e)}))?"all"===e?t:function removeDuplicates(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),arrayFrom(t)}(e):void display.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'))}var __decorate=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},D={debug:"debug",error:"error",info:"info",warn:"warn"},M="console",U="http",P=Object.keys(D),B=function(){function Logger(e,t,n,r,i){void 0===n&&(n=U),void 0===r&&(r=D.debug),void 0===i&&(i={}),this.handleLogStrategy=e,this.handlerType=n,this.level=r,this.contextManager=createContextManager(),this.contextManager.set(utils_assign({},i,t?{logger:{name:t}}:void 0))}return Logger.prototype.log=function(e,t,n){void 0===n&&(n=D.info),this.handleLogStrategy({message:e,context:deepClone(t),status:n},this)},Logger.prototype.debug=function(e,t){this.log(e,t,D.debug)},Logger.prototype.info=function(e,t){this.log(e,t,D.info)},Logger.prototype.warn=function(e,t){this.log(e,t,D.warn)},Logger.prototype.error=function(e,t){var n={error:{origin:O}};this.log(e,combine(n,t),D.error)},Logger.prototype.setContext=function(e){this.contextManager.set(e)},Logger.prototype.getContext=function(){return this.contextManager.get()},Logger.prototype.addContext=function(e,t){this.contextManager.add(e,t)},Logger.prototype.removeContext=function(e){this.contextManager.remove(e)},Logger.prototype.setHandler=function(e){this.handlerType=e},Logger.prototype.getHandler=function(){return this.handlerType},Logger.prototype.setLevel=function(e){this.level=e},Logger.prototype.getLevel=function(){return this.level},__decorate([monitored],Logger.prototype,"log",null),Logger}();function sendToExtension(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function willSyntheticsInjectRum(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||getCookie("datadog-synthetics-injects-rum"))}function getSyntheticsTestId(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||getCookie("datadog-synthetics-public-id");return"string"==typeof e?e:void 0}function getSyntheticsResultId(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||getCookie("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}var z,j="log",F="configuration",V=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],H=["ddog-gov.com"],W={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function startTelemetry(e,t){var n,r=new I;return W.telemetryEnabled=performDraw(t.telemetrySampleRate),W.telemetryConfigurationEnabled=W.telemetryEnabled&&performDraw(t.telemetryConfigurationSampleRate),z=function(i){if(!includes(H,t.site)&&W.telemetryEnabled){var o=function toTelemetryEvent(e,t){return combine({type:"telemetry",date:timeStampNow(),service:e,version:"4.30.1",source:"browser",_dd:{format_version:2},telemetry:t,experimental_features:arrayFrom(getExperimentalFeatures())},void 0!==n?n():{})}(e,i);r.notify(o),sendToExtension("telemetry",o)}},function startMonitorErrorCollection(e){i=e}(addTelemetryError),utils_assign(W,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){n=e},observable:r}}function addTelemetryError(e){addTelemetry(utils_assign({type:j,status:"error"},function formatError(e){if(e instanceof Error){var t=computeStackTrace(e);return{error:{kind:t.name,stack:toStackTraceString(scrubCustomerFrames(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(jsonStringify(e))}}(e)))}function addTelemetry(e){z&&W.sentEventCount<W.maxEventsPerPage&&(W.sentEventCount+=1,z(e))}function scrubCustomerFrames(e){return e.stack=e.stack.filter((function(e){return!e.url||V.some((function(t){return startsWith(e.url,t)}))})),e}var q=/[^\u0000-\u007F]/,G=function(){function Batch(e,t,n,r,i,o){var a=this;this.request=e,this.batchMessagesLimit=t,this.batchBytesLimit=n,this.messageBytesLimit=r,this.flushTimeout=i,this.pageExitObservable=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,o.subscribe((function(){return a.flush(a.request.sendOnExit)})),this.flushPeriodically()}return Batch.prototype.add=function(e){this.addOrUpdate(e)},Batch.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},Batch.prototype.flush=function(e){if(void 0===e&&(e=this.request.send),0!==this.bufferMessagesCount){var t=this.pushOnlyBuffer.concat(objectValues(this.upsertBuffer)),n=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:t.join("\n"),bytesCount:n})}},Batch.prototype.computeBytesCount=function(e){return q.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},Batch.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,i=n.messageBytesCount;i>=this.messageBytesLimit?display.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(r,i,t),this.isFull()&&this.flush())},Batch.prototype.process=function(e){var t=jsonStringify(e);return{processedMessage:t,messageBytesCount:this.computeBytesCount(t)}},Batch.prototype.push=function(e,t,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=t,this.bufferMessagesCount+=1},Batch.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.computeBytesCount(t);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},Batch.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},Batch.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},Batch.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},Batch.prototype.flushPeriodically=function(){var e=this;setTimeout(monitor((function(){e.flush(),e.flushPeriodically()})),this.flushTimeout)},Batch}(),X=3145728;function sendWithRetryStrategy(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?send(e,t,n,{onSuccess:function(){return retryQueuedPayloads(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),scheduleRetry(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function scheduleRetry(e,t,n,r){2===e.transportStatus&&setTimeout(monitor((function(){send(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,retryQueuedPayloads(1,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(6e4,2*e.currentBackoffTime),scheduleRetry(e,t,n,r)}})})),e.currentBackoffTime)}function send(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function shouldRetryRequest(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500)}(n)?(t.transportStatus=0,i()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function retryQueuedPayloads(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:k,startClocks:clocksNow()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=newPayloadQueue();o.size()>0;)sendWithRetryStrategy(o.dequeue(),t,n,r,i)}function newPayloadQueue(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=X}}}function createHttpRequest(e,t,n){var r=function newRetryState(){return{transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:newPayloadQueue(),queueFullReported:!1}}(),sendStrategyForRetry=function(n,r){return function fetchKeepAliveStrategy(e,t,n,r){var i=n.data,o=n.bytesCount,a=n.retry;if(function isKeepAliveSupported(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o<t){var s=e.build("fetch",a);fetch(s,{method:"POST",body:i,keepalive:!0,mode:"cors"}).then(monitor((function(e){return null==r?void 0:r({status:e.status,type:e.type})})),monitor((function(){sendXHR(e.build("xhr",a),i,r)})))}else{sendXHR(e.build("xhr",a),i,r)}}(e,t,n,r)};return{send:function(t){sendWithRetryStrategy(t,r,sendStrategyForRetry,e.endpointType,n)},sendOnExit:function(n){!function sendBeaconStrategy(e,t,n){var r=n.data,i=n.bytesCount;if(navigator.sendBeacon&&i<t)try{var o=e.build("beacon");if(navigator.sendBeacon(o,r))return}catch(e){!function reportBeaconError(e){Z||(Z=!0,addTelemetryError(e))}(e)}sendXHR(e.build("xhr"),r)}(e,t,n)}}}var Z=!1;function sendXHR(e,t,n){var r=new XMLHttpRequest,i=monitor((function(){r.removeEventListener("loadend",i),null==n||n({status:r.status})}));r.open("POST",e,!0),r.addEventListener("loadend",i),r.send(t)}function startBatchWithReplica(e,t,n,r,i){var o,a=createBatch(t);function createBatch(t){return new G(createHttpRequest(t,e.batchBytesLimit,n),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout,r)}return i&&(o=createBatch(i)),{add:function(e,t){void 0===t&&(t=!0),a.add(e),o&&t&&o.add(e)}}}var Y=1/0,K=function(){function ContextHistory(e){var t=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval((function(){return t.clearOldContexts()}),6e4)}return ContextHistory.prototype.add=function(e,t){var n=this,r={context:e,startTime:t,endTime:Y,remove:function(){var e=n.entries.indexOf(r);e>=0&&n.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.entries.unshift(r),r},ContextHistory.prototype.find=function(e){void 0===e&&(e=Y);for(var t=0,n=this.entries;t<n.length;t++){var r=n[t];if(r.startTime<=e){if(e<=r.endTime)return r.context;break}}},ContextHistory.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===Y&&t.close(e)},ContextHistory.prototype.findAll=function(e){return void 0===e&&(e=Y),this.entries.filter((function(t){return t.startTime<=e&&e<=t.endTime})).map((function(e){return e.context}))},ContextHistory.prototype.reset=function(){this.entries=[]},ContextHistory.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},ContextHistory.prototype.clearOldContexts=function(){for(var e=relativeNow()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},ContextHistory}();var J,$=144e5,Q=9e5,ee=/^([a-z]+)=([a-z0-9-]+)$/,te="&",ne="_dd_s",re=[];function withCookieLockAccess(e,t){var n;if(void 0===t&&(t=0),J||(J=e),e===J)if(t>=100)next();else{var r,i=retrieveSession();if(isCookieLockEnabled()){if(i.lock)return void retryLater(e,t);if(r=generateUUID(),i.lock=r,setSession(i,e.options),(i=retrieveSession()).lock!==r)return void retryLater(e,t)}var o=e.process(i);if(isCookieLockEnabled()&&(i=retrieveSession()).lock!==r)retryLater(e,t);else{if(o&&persistSession(o,e.options),isCookieLockEnabled()&&(!o||!isExpiredState(o))){if((i=retrieveSession()).lock!==r)return void retryLater(e,t);delete i.lock,setSession(i,e.options),o=i}null===(n=e.after)||void 0===n||n.call(e,o||i),next()}}else re.push(e)}function isCookieLockEnabled(){return function isChromium(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}()}function retryLater(e,t){setTimeout(monitor((function(){withCookieLockAccess(e,t+1)})),10)}function next(){J=void 0;var e=re.shift();e&&withCookieLockAccess(e)}function persistSession(e,t){isExpiredState(e)?function clearSession(e){setCookie(ne,"",0,e)}(t):(e.expire=String(dateNow()+Q),setSession(e,t))}function setSession(e,t){setCookie(ne,function toSessionString(e){return function objectEntries(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join(te)}(e),Q,t)}function retrieveSession(){var e=getCookie(ne),t={};return function isValidSessionString(e){return void 0!==e&&(-1!==e.indexOf(te)||ee.test(e))}(e)&&e.split(te).forEach((function(e){var n=ee.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}})),t}function isExpiredState(e){return isEmptyObject(e)}function startSessionStore(e,t,n){var r=new I,i=new I,o=setInterval(monitor((function watchSession(){withCookieLockAccess({options:e,process:function(e){return isActiveSession(e)?void 0:{}},after:synchronizeSession})})),1e3),a=function retrieveActiveSession(){var e=retrieveSession();if(isActiveSession(e))return e;return{}}();function synchronizeSession(e){return isActiveSession(e)||(e={}),hasSessionInCache()&&(!function isSessionInCacheOutdated(e){return a.id!==e.id||a[t]!==e[t]}(e)?a=e:function expireSession(){a={},i.notify()}()),e}function hasSessionInCache(){return void 0!==a[t]}function isActiveSession(e){return(void 0===e.created||dateNow()-Number(e.created)<$)&&(void 0===e.expire||dateNow()<Number(e.expire))}return{expandOrRenewSession:throttle(monitor((function expandOrRenewSession(){var i;withCookieLockAccess({options:e,process:function(e){var r=synchronizeSession(e);return i=function expandOrRenewCookie(e){var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,o&&!e.id&&(e.id=generateUUID(),e.created=String(dateNow()));return o}(r),r},after:function(e){i&&!hasSessionInCache()&&function renewSession(e){a=e,r.notify()}(e),a=e}})})),1e3).throttled,expandSession:function expandSession(){withCookieLockAccess({options:e,process:function(e){return hasSessionInCache()?synchronizeSession(e):void 0}})},getSession:function(){return a},renewObservable:r,expireObservable:i,stop:function(){clearInterval(o)}}}var ie=[];function startSessionManager(e,t,n){!function tryOldCookiesMigration(e){var t=getCookie(ne),n=getCookie("_dd"),r=getCookie("_dd_r"),i=getCookie("_dd_l");if(!t){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o.logs=i),r&&/^[012]$/.test(r)&&(o.rum=r),persistSession(o,e)}}(e);var r=startSessionStore(e,t,n);ie.push((function(){return r.stop()}));var i=new K(144e5);function buildSessionContext(){return{id:r.getSession().id,trackingType:r.getSession()[t]}}return ie.push((function(){return i.stop()})),r.renewObservable.subscribe((function(){i.add(buildSessionContext(),relativeNow())})),r.expireObservable.subscribe((function(){i.closeActive(relativeNow())})),r.expandOrRenewSession(),i.add(buildSessionContext(),function clocksOrigin(){return{relative:0,timeStamp:getNavigationStart()}}().relative),function trackActivity(e){var t=addEventListeners(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;ie.push(t)}((function(){return r.expandOrRenewSession()})),function trackVisibility(e){var t=monitor((function(){"visible"===document.visibilityState&&e()})),n=addEventListener(document,"visibilitychange",t).stop;ie.push(n);var r=setInterval(t,6e4);ie.push((function(){clearInterval(r)}))}((function(){return r.expandSession()})),{findActiveSession:function(e){return i.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}var oe;function startLogsSessionManager(e){var t=startSessionManager(e.cookieOptions,"logs",(function(t){return function logsSessionManager_computeSessionState(e,t){var n=function hasValidLoggerSession(e){return"0"===e||"1"===e}(t)?t:computeTrackingType(e);return{trackingType:n,isTracked:"1"===n}}(e,t)}));return{findTrackedSession:function(e){var n=t.findActiveSession(e);return n&&"1"===n.trackingType?{id:n.id}:void 0}}}function computeTrackingType(e){return performDraw(e.sessionSampleRate)?"1":"0"}var ae=((oe={})[D.debug]=0,oe[D.info]=1,oe[D.warn]=2,oe[D.error]=3,oe);function isAuthorized(e,t,n){var r=n.getHandler(),i=Array.isArray(r)?r:[r];return ae[e]>=ae[n.getLevel()]&&includes(i,t)}function startLogsAssembly(e,t,n,r,i,o){var a=P.concat(["custom"]),u={};a.forEach((function(e){u[e]=function createEventRateLimiter(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&setTimeout((function(){r=0}),s),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:k,startClocks:clocksNow()})}finally{i=!1}}return!0}}}(e,t.eventRateLimiterThreshold,o)})),n.subscribe(0,(function(o){var a,s,c,l=o.rawLogsEvent,d=o.messageContext,f=void 0===d?void 0:d,p=o.savedCommonContext,h=void 0===p?void 0:p,v=o.logger,g=void 0===v?i:v,m=function getRelativeTime(e){return e-getNavigationStart()}(l.date),y=e.findTrackedSession(m);if(y){var b=h||r(),_=combine({service:t.service,session_id:y.id,usr:isEmptyObject(b.user)?void 0:b.user,view:b.view},b.context,getRUMInternalContext(m),l,g.getContext(),f);!isAuthorized(l.status,U,g)||!1===(null===(a=t.beforeSend)||void 0===a?void 0:a.call(t,_))||(null===(s=_.error)||void 0===s?void 0:s.origin)!==k&&(null!==(c=u[_.status])&&void 0!==c?c:u.custom).isLimitReached()||n.notify(1,_)}}))}var se=!1;function getRUMInternalContext(e){var t=window;if(willSyntheticsInjectRum()){var n=getInternalContextFromRumGlobal(t.DD_RUM_SYNTHETICS);return n||se||(se=!0,function addTelemetryDebug(e,t){displayIfDebugEnabled(r.debug,e,t),addTelemetry(utils_assign({type:j,message:e,status:"debug"},t))}("Logs sent before RUM is injected by the synthetics worker",{testId:getSyntheticsTestId(),resultId:getSyntheticsResultId()})),n}return getInternalContextFromRumGlobal(t.DD_RUM);function getInternalContextFromRumGlobal(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}var ue,ce={};function initConsoleObservable(e){var t=e.map((function(e){return ce[e]||(ce[e]=function createConsoleObservable(e){var t=new I((function(){var n=console[e];return console[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=createHandlingStack();callMonitored((function(){t.notify(buildConsoleLog(r,e,o))}))},function(){console[e]=n}}));return t}(e)),ce[e]}));return mergeObservables.apply(void 0,t)}function buildConsoleLog(e,t,n){var i,o=e.map((function(e){return function formatConsoleParameters(e){if("string"==typeof e)return e;if(e instanceof Error)return formatErrorMessage(computeStackTrace(e));return jsonStringify(e,void 0,2)}(e)})).join(" ");if(t===r.error){var a=function find(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}(e,(function(e){return e instanceof Error}));i=a?toStackTraceString(computeStackTrace(a)):void 0,o="console error: ".concat(o)}return{api:t,message:o,stack:i,handlingStack:n}}var le,de=((ue={})[r.log]=D.info,ue[r.debug]=D.debug,ue[r.info]=D.info,ue[r.warn]=D.warn,ue[r.error]=D.error,ue);var fe,pe=((le={})[N.cspViolation]=D.error,le[N.intervention]=D.error,le[N.deprecation]=D.warn,le);function instrumentMethod(e,t,n){var r=e[t],i=n(r),instrumentationWrapper=function(){if("function"==typeof i)return i.apply(this,arguments)};return e[t]=instrumentationWrapper,{stop:function(){e[t]===instrumentationWrapper?e[t]=r:i=r}}}function instrumentMethodAndCallOriginal(e,t,n){var r=n.before,i=n.after;return instrumentMethod(e,t,(function(e){return function(){var t,n=arguments;return r&&callMonitored(r,this,n),"function"==typeof e&&(t=e.apply(this,n)),i&&callMonitored(i,this,n),t}}))}var he,ve=new WeakMap;function initXhrObservable(){return fe||(fe=function createXhrObservable(){var e=new I((function(){var t=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"open",{before:openXhr}).stop,n=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"send",{before:function(){sendXhr.call(this,e)}}).stop,r=instrumentMethodAndCallOriginal(XMLHttpRequest.prototype,"abort",{before:abortXhr}).stop;return function(){t(),n(),r()}}));return e}()),fe}function openXhr(e,t){ve.set(this,{state:"open",method:e,url:normalizeUrl(String(t))})}function sendXhr(e){var t=this,n=ve.get(this);if(n){var r=n;r.state="start",r.startTime=relativeNow(),r.startClocks=clocksNow(),r.isAborted=!1,r.xhr=this;var i=!1,o=instrumentMethodAndCallOriginal(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=monitor((function(){if(t.removeEventListener("loadend",a),o(),!i){i=!0;var s=n;s.state="complete",s.duration=function elapsed(e,t){return t-e}(r.startClocks.timeStamp,timeStampNow()),s.status=t.status,e.notify(function shallowClone(e){return utils_assign({},e)}(s))}}));this.addEventListener("loadend",a),e.notify(r)}}function abortXhr(){var e=ve.get(this);e&&(e.isAborted=!0)}function initFetchObservable(){return he||(he=function createFetchObservable(){var e=new I((function(){if(window.fetch)return instrumentMethod(window,"fetch",(function(t){return function(n,r){var i,o=callMonitored(beforeSend,null,[e,n,r]);return o?(i=t.call(this,o.input,o.init),callMonitored(afterSend,null,[e,i,o])):i=t.call(this,n,r),i}})).stop}));return e}()),he}function beforeSend(e,t,n){var r=n&&n.method||"object"==typeof t&&t.method||"GET",i=normalizeUrl("object"==typeof t&&t.url||t),o={state:"start",init:n,input:t,method:r,startClocks:clocksNow(),url:i};return e.notify(o),o}function afterSend(e,t,n){var reportFetch=function(t){var r=n;r.state="resolve","stack"in t||t instanceof Error?(r.status=0,r.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t):"status"in t&&(r.response=t,r.responseType=t.type,r.status=t.status,r.isAborted=!1),e.notify(r)};t.then(monitor(reportFetch),monitor(reportFetch))}function startNetworkErrorCollection(e,t){if(!e.forwardErrorsToLogs)return{stop:noop};var n=initXhrObservable().subscribe((function(e){"complete"===e.state&&handleResponse("xhr",e)})),r=initFetchObservable().subscribe((function(e){"resolve"===e.state&&handleResponse("fetch",e)}));function handleResponse(n,r){function onResponseDataAvailable(e){t.notify(0,{rawLogsEvent:{message:"".concat(format(n)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{origin:x,stack:e||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url},status:D.error,origin:x}})}e.isIntakeUrl(r.url)||!function isRejected(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function isServerError(e){return e.status>=500}(r)||("xhr"in r?function computeXhrResponseData(e,t,n){"string"==typeof e.response?n(truncateResponseText(e.response,t)):n(e.response)}(r.xhr,e,onResponseDataAvailable):r.response?function computeFetchResponseText(e,t,n){window.TextDecoder?e.body?function truncateResponseStream(e,t,n){!function readBytesFromStream(e,t,n){var r=e.getReader(),i=[],o=0;function onDone(){var e,a;if(r.cancel().catch(noop),n.collectStreamBody){var s;if(1===i.length)s=i[0];else{s=new Uint8Array(o);var u=0;i.forEach((function(e){s.set(e,u),u+=e.length}))}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function readMore(){r.read().then(monitor((function(e){e.done?onDone():(n.collectStreamBody&&i.push(e.value),(o+=e.value.length)>n.bytesLimit?onDone():readMore())})),monitor((function(e){return t(e)})))}()}(e,(function(e,t,r){if(e)n(e);else{var i=(new TextDecoder).decode(t);r&&(i+="..."),n(void 0,i)}}),{bytesLimit:t,collectStreamBody:!0})}(e.clone().body,t.requestErrorResponseLengthLimit,(function(e,t){n(e?"Unable to retrieve response: ".concat(e):t)})):n():e.clone().text().then(monitor((function(e){return n(truncateResponseText(e,t))})),monitor((function(e){return n("Unable to retrieve response: ".concat(e))})))}(r.response,e,onResponseDataAvailable):r.error&&function computeFetchErrorText(e,t,n){n(truncateResponseText(toStackTraceString(computeStackTrace(e)),t))}(r.error,e,onResponseDataAvailable))}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function truncateResponseText(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function format(e){return"xhr"===e?"XHR":"Fetch"}var ge=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function startUnhandledErrorCollection(e){var t=function instrumentOnError(e){return instrumentMethodAndCallOriginal(window,"onerror",{before:function(t,n,r,i,o){var a;if(o)a=computeStackTrace(o),e(a,o);else{var s,u={url:n,column:i,line:r},c=t;if("[object String]"==={}.toString.call(t)){var l=ge.exec(c);l&&(s=l[1],c=l[2])}e(a={name:s,message:"string"==typeof c?c:void 0,stack:[u]},t)}}})}(e).stop,n=function instrumentUnhandledRejection(e){return instrumentMethodAndCallOriginal(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",r=computeStackTrace(n);e(r,n)}})}(e).stop;return{stop:function(){t(),n()}}}function trackRuntimeError(e){return startUnhandledErrorCollection((function(t,n){e.notify(function computeRawError(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling;return t&&(void 0!==t.message||n instanceof Error)?{startClocks:i,source:a,handling:s,originalError:n,message:t.message||"Empty message",stack:toStackTraceString(t),handlingStack:r,type:t.name,causes:flattenErrorCauses(n,a)}:{startClocks:i,source:a,handling:s,originalError:n,message:"".concat(o," ").concat(jsonStringify(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:t&&t.name}}({stackTrace:t,originalError:n,startClocks:clocksNow(),nonErrorPrefix:"Uncaught",source:A,handling:"unhandled"}))}))}var me=function(){function LifeCycle(){this.callbacks={}}return LifeCycle.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},LifeCycle.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},LifeCycle}();var ye=function makeLogsPublicApi(e){var t=!1,n=createContextManager(),i=createContextManager(),o={},getInternalContextStrategy=function(){},a=new c,handleLogStrategy=function(e,t,n,r){void 0===n&&(n=deepClone(getCommonContext())),void 0===r&&(r=timeStampNow()),a.add((function(){return handleLogStrategy(e,t,n,r)}))},getInitConfigurationStrategy=function(){},s=new B((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return handleLogStrategy.apply(void 0,e)}));function getCommonContext(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:i.getContext()}}return function makePublicApi(e){var t=utils_assign({version:"4.30.1",onReady:function(e){e()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return setDebugMode},enumerable:!1}),t}({logger:s,init:monitor((function(n){var i;if(getInitConfigurationStrategy=function(){return deepClone(n)},canUseEventBridge()&&(n=function overrideInitConfigurationForBridge(e){return utils_assign({},e,{clientToken:"empty"})}(n)),function canInitLogs(e){if(t)return e.silentMultipleInit||display.error("DD_LOGS is already initialized."),!1;return!0}(n)){var o=function validateAndBuildLogsConfiguration(e){var t=validateAndBuildConfiguration(e),n=validateAndBuildForwardOption(e.forwardConsoleLogs,objectValues(r),"Forward Console Logs"),i=validateAndBuildForwardOption(e.forwardReports,objectValues(N),"Forward Reports");if(t&&n&&i)return e.forwardErrorsToLogs&&!includes(n,r.error)&&n.push(r.error),utils_assign({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:i,requestErrorResponseLengthLimit:32768},t)}(n);o&&(i=e(n,o,getCommonContext,s),handleLogStrategy=i.handleLog,getInternalContextStrategy=i.getInternalContext,a.drain(),t=!0)}})),getLoggerGlobalContext:monitor(n.get),getGlobalContext:monitor(n.getContext),setLoggerGlobalContext:monitor(n.set),setGlobalContext:monitor(n.setContext),addLoggerGlobalContext:monitor(n.add),setGlobalContextProperty:monitor(n.setContextProperty),removeLoggerGlobalContext:monitor(n.remove),removeGlobalContextProperty:monitor(n.removeContextProperty),clearGlobalContext:monitor(n.clearContext),createLogger:monitor((function(e,t){return void 0===t&&(t={}),o[e]=new B((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return handleLogStrategy.apply(void 0,e)}),e,t.handler,t.level,t.context),o[e]})),getLogger:monitor((function(e){return o[e]})),getInitConfiguration:monitor((function(){return getInitConfigurationStrategy()})),getInternalContext:monitor((function(e){return getInternalContextStrategy(e)})),setUser:monitor((function(e){(function checkUser(e){var t="object"===getType(e);return t||display.error("Unsupported user:",e),t})(e)&&i.setContext(sanitizeUser(e))})),getUser:monitor(i.getContext),setUserProperty:monitor((function(e,t){var n,r=sanitizeUser((n={},n[e]=t,n))[e];i.setContextProperty(e,r)})),removeUserProperty:monitor(i.removeContextProperty),clearUser:monitor(i.clearContext)})}((function startLogs(e,t,n,i){var o=new me;o.subscribe(1,(function(e){return sendToExtension("logs",e)}));var reportError=function(e){return o.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:k},origin:k,status:D.error}})},a=function createPageExitObservable(){var e=new I((function(){var t=addEventListener(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.notify({reason:"visibility_hidden"})}),{capture:!0}).stop,n=addEventListener(window,"beforeunload",(function(){e.notify({reason:"before_unload"})})).stop;return function(){t(),n()}}));return e}();(function startLogsTelemetry(e,t,n){var r,i=startTelemetry("browser-logs-sdk",e);if(canUseEventBridge()){var o=getEventBridge();i.observable.subscribe((function(e){return o.send("internal_telemetry",e)}))}else{var a=startBatchWithReplica(e,e.rumEndpointBuilder,t,n,null===(r=e.replica)||void 0===r?void 0:r.rumEndpointBuilder);i.observable.subscribe((function(t){return a.add(t,function isTelemetryReplicationAllowed(e){return"datad0g.com"===e.site}(e))}))}return i})(t,reportError,a).setContextProvider((function(){var e,t,n,r,i,o;return{application:{id:null===(e=getRUMInternalContext())||void 0===e?void 0:e.application_id},session:{id:null===(t=c.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=getRUMInternalContext())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(o=null===(i=getRUMInternalContext())||void 0===i?void 0:i.user_action)||void 0===o?void 0:o.id}}})),startNetworkErrorCollection(t,o),function startRuntimeErrorCollection(e,t){if(!e.forwardErrorsToLogs)return{stop:noop};var n=new I,r=trackRuntimeError(n).stop,i=n.subscribe((function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{kind:e.type,origin:A,stack:e.stack},origin:A,status:D.error}})}));return{stop:function(){r(),i.unsubscribe()}}}(t,o),function startConsoleCollection(e,t){var n=initConsoleObservable(e.forwardConsoleLogs).subscribe((function(e){t.notify(0,{rawLogsEvent:{date:timeStampNow(),message:e.message,origin:R,error:e.api===r.error?{origin:R,stack:e.stack}:void 0,status:de[e.api]}})}));return{stop:function(){n.unsubscribe()}}}(t,o),function startReportCollection(e,t){var n=initReportObservable(e.forwardReports).subscribe((function(e){var n,r=e.message,i=pe[e.type];i===D.error?n={kind:e.subtype,origin:L,stack:e.stack}:e.stack&&(r+=" Found in ".concat(function getFileFromStackTraceString(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(e.stack))),t.notify(0,{rawLogsEvent:{date:timeStampNow(),message:r,origin:L,error:n,status:i}})}));return{stop:function(){n.unsubscribe()}}}(t,o);var u=function startLoggerCollection(e){return{handleLog:function handleLog(t,n,r,i){var o=t.context;isAuthorized(t.status,M,n)&&display(t.status,t.message,combine(n.getContext(),o)),e.notify(0,{rawLogsEvent:{date:i||timeStampNow(),message:t.message,status:t.status,origin:O},messageContext:o,savedCommonContext:r,logger:n})}}}(o).handleLog,c=!function areCookiesAuthorized(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(generateUUID()),n="test";setCookie(t,n,s,e);var r=getCookie(t)===n;return deleteCookie(t,e),r}catch(e){return display.error(e),!1}}(t.cookieOptions)||canUseEventBridge()||willSyntheticsInjectRum()?function startLogsSessionManagerStub(e){var t="1"===computeTrackingType(e)?{}:void 0;return{findTrackedSession:function(){return t}}}(t):startLogsSessionManager(t);return startLogsAssembly(c,t,o,n,i,reportError),canUseEventBridge()?function startLogsBridge(e){var t=getEventBridge();e.subscribe(1,(function(e){t.send("log",e)}))}(o):function startLogsBatch(e,t,n,r){var i,o=startBatchWithReplica(e,e.logsEndpointBuilder,n,r,null===(i=e.replica)||void 0===i?void 0:i.logsEndpointBuilder);t.subscribe(1,(function(e){o.add(e)}))}(t,o,reportError,a),function addTelemetryConfiguration(e){W.telemetryConfigurationEnabled&&addTelemetry({type:F,configuration:e})}(function serializeLogsConfiguration(e){var t=function serializeConfiguration(e){var t;return{session_sample_rate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:void 0!==e.proxyUrl?!!e.proxyUrl:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}(e);return utils_assign({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports},t)}(e)),{handleLog:u,getInternalContext:function startInternalContext(e){return{get:function(t){var n=e.findTrackedSession(t);if(n)return{session_id:n.id}}}}(c).get}}));!function defineGlobal(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return catchUserErrors(e,"onReady callback threw an error:")()}))}(getGlobalObject(),"DD_LOGS",ye)},SVgp:function(e,t,n){"use strict";t.a=function memoize(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},eVQB:function(e,t,n){"use strict";n.d(t,"a",(function(){return getRegisteredStyles})),n.d(t,"b",(function(){return r}));function getRegisteredStyles(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var r=function insertStyles(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},ek6p:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f}));var r=n("q1tI"),i=n("+1VY"),o=n("wx14"),a=n("gRFL"),s=(n("i2T3"),n("eVQB")),u=n("Exhd"),c={}.hasOwnProperty,l=Object(r.createContext)("undefined"!=typeof HTMLElement?Object(i.a)({key:"css"}):null);var d=l.Provider,f=function withEmotionCache(e){return Object(r.forwardRef)((function(t,n){var i=Object(r.useContext)(l);return e(t,i,n)}))},p=Object(r.createContext)({});var h=function useTheme(){return Object(r.useContext)(p)},v=Object(a.a)((function(e){return Object(a.a)((function(t){return function getTheme(e,t){return"function"==typeof t?t(e):Object(o.a)({},e,t)}(e,t)}))})),g=function ThemeProvider(e){var t=Object(r.useContext)(p);return e.theme!==t&&(t=v(t)(e.theme)),Object(r.createElement)(p.Provider,{value:t},e.children)};var m="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",y=function createEmotionProps(e,t){var n={};for(var r in t)c.call(t,r)&&(n[r]=t[r]);return n[m]=e,n},b=function Noop(){return null},_=f((function(e,t,n){var i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[m],a=[i],l="";"string"==typeof e.className?l=Object(s.a)(t.registered,a,e.className):null!=e.className&&(l=e.className+" ");var d=Object(u.a)(a,void 0,Object(r.useContext)(p));Object(s.b)(t,d,"string"==typeof o);l+=t.key+"-"+d.name;var f={};for(var h in e)c.call(e,h)&&"css"!==h&&h!==m&&(f[h]=e[h]);f.ref=n,f.className=l;var v=Object(r.createElement)(o,f),g=Object(r.createElement)(b,null);return Object(r.createElement)(r.Fragment,null,g,v)}))},"ep+1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function StyleSheet(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var e=StyleSheet.prototype;return e.hydrate=function hydrate(e){e.forEach(this._insertTag)},e.insert=function insert(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function createStyleElement(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function sheetForTag(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},e.flush=function flush(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},StyleSheet}()},gRFL:function(e,t,n){"use strict";t.a=function weakMemoize(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},i2T3:function(e,t,n){"use strict";var r=n("2mql"),i=n.n(r);t.a=function(e,t){return i()(e,t)}}}]);
//# sourceMappingURL=146.4b922eb44fbd9376db4b.chunk.js.map
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[373],{mf31:function(e,r,t){"use strict";t.r(r),t.d(r,"WebBrowserContainer",(function(){return J}));var n=t("q1tI"),o=t.n(n),a=t("/MKj"),c=t("tLXD"),l=t("z9go"),s=t("jY6L"),i=t("VmES"),u=t("yxtj"),f=t("c2gB"),b=t("DZdY"),d=t("yrBZ"),m=t("QqFe"),w=t("hsiM"),B=t("9GW+"),h=t("7mab"),g=t("1Wj3"),p=t("qwNl"),O=t("630U"),j=t("gtj7"),v=t("rePB"),y=t("TSYQ"),E=t.n(y),C="placeholder__1YIG4q7St1PGhI9-dviGBw",_="themeDark__11MCOPZIO-9ayge6Lg-tZ9",R="componentName__3Tl0NF3fxuC9a3YcG9mTgs",k=Object(b.a)(m.d,{target:"e1osgqh80",label:"StyledButton"})(Object(O.i)({color:"green",borderColor:"green",minWidth:"8rem",marginTop:"1.25rem"}),""),L=function PlaceHolder(e){var r,t=e.action,n=e.actionButtonEnabled,a=e.actionCallBack,c=e.componentName,l=e.theme,s=void 0===l?"light":l,i=e.icon,u=E()((r={},Object(v.a)(r,C,!0),Object(v.a)(r,_,"dark"===s),r));return o.a.createElement(d.b,{flexGrow:1,flexShrink:0,center:!0,column:!0,className:u},i&&o.a.createElement(i,{size:24}),o.a.createElement("div",{className:R},c),a?o.a.createElement(k,{disabled:!n,onClick:a},t):null)},S=t("KKCq"),U=t("S6PG"),x=t("2oex"),M=t("GwnQ"),D=t("yy36"),W=t("bCom"),I=t("Z9Sh"),G=function BrowserFooter(){var e=Object(a.useSelector)(x.A),r=Object(I.b)(),t=Object(a.useSelector)(D.D),n=r===I.a.Solution&&t;return e&&["jupyter","python-3_8-increased-memory"].includes(e)?o.a.createElement(W.a,{submitMode:M.d.TestOnly,showRunButton:!0,showCopyButton:!1,showSolutionButton:n}):null},T=t("1OyB"),N=t("vuIU"),P=t("JX7q"),z=t("Ji7U"),A=t("md7G"),K=t("foSv"),q="frame__1oLCCuBJRJTr24DjUaBhQ7";function _createSuper(e){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var t,n=Object(K.a)(e);if(r){var o=Object(K.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Object(A.a)(this,t)}}var F=function(e){Object(z.default)(RemoteWebBrowser,e);var r=_createSuper(RemoteWebBrowser);function RemoteWebBrowser(){var e;Object(T.default)(this,RemoteWebBrowser);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),Object(v.a)(Object(P.a)(e),"iframeRef",o.a.createRef()),Object(v.a)(Object(P.a)(e),"handleSendIframeMessage",(function(r){e.getIframe().contentWindow.postMessage(r,"*")})),Object(v.a)(Object(P.a)(e),"getIframe",(function(){return e.iframeRef.current})),Object(v.a)(Object(P.a)(e),"onBrowserMessage",(function(r){e.props.onBrowserMessage(r)})),e}return Object(N.default)(RemoteWebBrowser,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.bindBrowserListener;window.addEventListener("message",this.onBrowserMessage,!1),this.removeMessageListener=e(this.handleSendIframeMessage)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.onBrowserMessage),this.removeMessageListener()}},{key:"render",value:function render(){var e=this.props,r=e.refreshCount,t=e.src,n=e.onBrowserLoad,a=e.onBrowserError;return o.a.createElement("iframe",{title:"Codecademy Web Browser",ref:this.iframeRef,onLoad:n,onError:a,key:r,allowFullScreen:!0,className:q,allow:"geolocation; microphone; camera",src:t})}}]),RemoteWebBrowser}(n.Component),Y=Object(b.a)("input",{target:"e1a735o50",label:"URLInput"})("background-color:transparent;color:",Object(O.B)("colors.text"),";padding-left:",Object(O.B)("spacing.12"),";flex:1;height:40px;font-size:",Object(O.B)("fontSize.14"),";white-space:nowrap;line-height:40px;border:1px solid ",Object(O.B)("colors.background"),";position:relative;&:focus{outline:0;}"),Z=function ThemedWebBrowser(e){var r,t=e.urlBarRef,c=e.browserRef,i=e.bindBrowserListener,u=e.onUrlBarKeyDown,f=e.onUrlBarChange,b=e.onBack,O=e.onRefresh,v=e.onBrowserLoad,y=e.onBrowserError,E=e.onBrowserMessage,C=e.showBrowserBar,_=void 0===C||C,R=e.showPreviewButton,k=e.isBlank,x=e.isReady,M=e.isLoading,D=e.src,W=e.refreshCount,I=e.displayUrl,T=void 0===I?"":I,N=e.toggleFullScreen,P=Object(a.useSelector)(s.c),z=Object(n.useCallback)((function(){Object(l.c)({target:"preview_browser",page_name:P})}),[P]);if(!x)return o.a.createElement(d.b,{height:"100%",bg:"gray-900",alignItems:"center",justifyContent:"center"},o.a.createElement(U.a,null));r=k?o.a.createElement(L,{theme:"dark",componentName:"Web Browser",icon:w.a}):o.a.createElement(F,{src:D,onBrowserLoad:v,onBrowserMessage:E,onBrowserError:y,bindBrowserListener:i,refreshCount:W,ref:c});var A=o.a.createElement(d.b,{bg:"shadow-solid",height:"3rem",alignItems:"center"},o.a.createElement(m.c,{"aria-label":"Previous Browser Page",mx:8,icon:B.a,size:"small",onClick:b}),o.a.createElement(m.c,{"aria-label":"Refresh Browser Page",mx:8,icon:h.a,size:"small",onClick:O}),o.a.createElement(d.b,{alignItems:"center",justifyContent:"center",flexGrow:1,pr:12},o.a.createElement(Y,{"aria-label":"URL input",type:"text",value:T,ref:t,placeholder:"Type URL here",onKeyDown:u,onChange:f}),M&&o.a.createElement(S.a,null)),N&&o.a.createElement(m.c,{"aria-label":"Toggle fullscreen",icon:g.a,mx:8,onClick:N,size:"small"}),R&&o.a.createElement(m.c,{"aria-label":"Open in new tab",mx:8,icon:p.a,onClick:z,size:"small",target:"_blank",href:Object(j.a)(window.location.href,{preview:!0})}));return o.a.createElement(d.b,{flexGrow:1,flexDirection:"column",borderWidthLeft:1,borderLeft:"solid",borderColor:"navy-600"},_&&A,o.a.createElement(d.b,{flexGrow:1,bg:"white",flexDirection:"column"},r),o.a.createElement(G,null))},J=function WebBrowserContainer(e){var r=e.onLoad,t=void 0===r?function(){}:r,b=e.config,d=(b=void 0===b?{display_url:i.a}:b).display_url,m=b.hide_browser_bar,w=b.show_preview_button,B=e.toggleFullScreen,h=Object(f.c)(),g=h.ready,p=h.host,O=h.createBrowser,j=h.browser,v=void 0===j?{}:j,y=h.changeCounter,E=h.refreshBrowser,C=h.setBrowserUrlBar,_=h.pushBrowserLocation,R=h.navigateBrowserBack,k=h.loadBrowserSuccess,L=h.initializeBrowser,S=h.respondToBrowserMessage,U=v.init,x=v.loading,M=v.refreshCount,D=v.location,W=void 0===D?{}:D,I=v.urlBarValue,G=v.hosts,T=(void 0===G?{}:G).internalUrl,N=W.displayUrl,P=W.internalUrl,z=Object(n.useRef)(null),A=Object(n.useRef)(null),K=Object(n.useRef)(),q=K.current,F=null==v?void 0:v.message,Y=Object(c.a)(F),J=Object(a.useSelector)(s.c),Q=function trackBrowserClick(e){Object(l.c)({target:e,page_name:J})},H=Y===F&&F,V=Object(n.useMemo)((function(){return!new RegExp(T,"g").test(P)}),[T,P]),X=Object(n.useMemo)((function(){return P}),[M,y]),$=Object(n.useCallback)((function(e){return C(e.target.value)}),[C]),ee=Object(n.useCallback)((function(e){13===e.keyCode&&_({url:I,urlType:"displayUrl"})}),[I,_]),re=Object(n.useCallback)((function(){t(),k()}),[k,t]),te=Object(n.useCallback)((function(e){var r=e.data,t=e.origin;if(T.includes(t))return F&&Object(u.d)(r)?S(F,r):r.location?_({url:r.location,urlType:"internalUrl"}):void 0}),[T,F,S,_]),ne=Object(n.useCallback)((function(e){return K.current=e,function(){return K.current=void 0}}),[K]);return Object(n.useEffect)((function(){O()}),[O]),Object(n.useEffect)((function(){g&&p&&v&&!T&&L({hosts:{internalUrl:p},location:{displayUrl:d}})}),[g,p,d,v,T,L]),Object(n.useEffect)((function(){p&&L({hosts:{internalUrl:p},location:{displayUrl:d}})}),[d,p,L]),Object(n.useEffect)((function(){U&&E()}),[y,U,E]),Object(n.useEffect)((function(){q&&H&&!x&&!V&&q(F.data)}),[H,q,x,V,F]),o.a.createElement(Z,{urlBarRef:z,browserRef:A,bindBrowserListener:ne,onUrlBarKeyDown:ee,onUrlBarChange:$,onBack:function onBack(){Q("back_button_output"),R()},onRefresh:function onRefresh(){Q("refresh_output"),E()},onBrowserLoad:re,onBrowserError:function onBrowserError(){},onBrowserMessage:te,isBlank:!N||!P,isReady:g,isLoading:x,src:X,showBrowserBar:!m,showPreviewButton:!!w,displayUrl:I,refreshCount:M,toggleFullScreen:B})};r.default=J}}]);
//# sourceMappingURL=platform-components-WebBrowser-WebBrowserContainer~c266ff1b.42bf1d9a34b2c17bd8df.chunk.js.map